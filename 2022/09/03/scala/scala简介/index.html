<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Scala概述 | The Xiang Blog</title><meta name="keywords" content="map,groupBy,flatMap,Scala,函数式编程,匿名函数,特质,样例类,reduce,reduceLeft,fold,filter,sliding,List,Set,Map,模式匹配,偏函数"><meta name="author" content="Xiang Liu"><meta name="copyright" content="Xiang Liu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="介绍了Scala的一些重要概念">
<meta property="og:type" content="article">
<meta property="og:title" content="Scala概述">
<meta property="og:url" content="http://example.com/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/index.html">
<meta property="og:site_name" content="The Xiang Blog">
<meta property="og:description" content="介绍了Scala的一些重要概念">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/image/bg.jpg">
<meta property="article:published_time" content="2022-09-03T01:41:36.267Z">
<meta property="article:modified_time" content="2022-09-05T12:18:24.399Z">
<meta property="article:author" content="Xiang Liu">
<meta property="article:tag" content="map">
<meta property="article:tag" content="groupBy">
<meta property="article:tag" content="flatMap">
<meta property="article:tag" content="Scala">
<meta property="article:tag" content="函数式编程">
<meta property="article:tag" content="匿名函数">
<meta property="article:tag" content="特质">
<meta property="article:tag" content="样例类">
<meta property="article:tag" content="reduce">
<meta property="article:tag" content="reduceLeft">
<meta property="article:tag" content="fold">
<meta property="article:tag" content="filter">
<meta property="article:tag" content="sliding">
<meta property="article:tag" content="List">
<meta property="article:tag" content="Set">
<meta property="article:tag" content="Map">
<meta property="article:tag" content="模式匹配">
<meta property="article:tag" content="偏函数">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/image/bg.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Scala概述',
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2022-09-05 20:18:24'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/./image/title.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">28</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">191</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">17</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 总览</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/../image/bg.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">The Xiang Blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 总览</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Scala概述</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-09-03T01:41:36.267Z" title="发表于 2022-09-03 09:41:36">2022-09-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-09-05T12:18:24.399Z" title="更新于 2022-09-05 20:18:24">2022-09-05</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Scala/">Scala</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">16.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>73分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Scala概述"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="1-Scala入门"><a href="#1-Scala入门" class="headerlink" title="1. Scala入门"></a>1. Scala入门</h2><h3 id="1-1-为什么要学习Scala"><a href="#1-1-为什么要学习Scala" class="headerlink" title="1.1 为什么要学习Scala"></a>1.1 为什么要学习Scala</h3><p>​	在之前的学习中，我们已经学习了很长时间的Java语言，为什么此时要学习一门新的语言呢？主要基于以下几个原因：</p>
<ol>
<li><p>大数据主要的批处理计算引擎框架Spark是基于Scala语言开发的</p>
</li>
<li><p>大数据主要的流式计算引擎框架Flink也提供了Scala相应的API</p>
</li>
<li><p>大数据领域中函数式编程的开发效率更高，更直观，更容易理解</p>
</li>
</ol>
<h2 id="2-变量和数据类型"><a href="#2-变量和数据类型" class="headerlink" title="2. 变量和数据类型"></a>2. 变量和数据类型</h2><h3 id="2-1-注释"><a href="#2-1-注释" class="headerlink" title="2.1 注释"></a>2.1 注释</h3><p>其实注释跟java一样</p>
<p><strong>单行注释：</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.scala</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaComment</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">// 单行注释</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>多行注释：</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.scala</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaComment</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">           多行注释</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>文档注释：</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.scala</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * doc注释</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaComment</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-变量"><a href="#2-2-变量" class="headerlink" title="2.2 变量"></a>2.2 变量</h3><p>​	变量是一种使用方便的占位符，用于引用计算机内存地址，变量创建后会占用一定的内存空间。基于变量的数据类型，操作系统会进行内存分配并且决定什么将被储存在保留内存中。因此，通过给变量分配不同的数据类型，你可以在这些变量中存储整数，小数或者字母。</p>
<h4 id="2-2-1-语法声明"><a href="#2-2-1-语法声明" class="headerlink" title="2.2.1 语法声明"></a>2.2.1 语法声明</h4><p><strong>在Scala之中变量的类型在变量名之后等号之前声明。</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaVariable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">// var | val 变量名 ：变量类型 = 变量值</span></span><br><span class="line">        <span class="comment">// 用户名称</span></span><br><span class="line">        <span class="keyword">var</span> username : <span class="type">String</span> = <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">        <span class="comment">// 用户密码</span></span><br><span class="line">        <span class="keyword">val</span> userpswd : <span class="type">String</span> = <span class="string">&quot;000000&quot;</span> </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	变量的类型如果能够通过变量值推断出来，那么可以省略类型声明，这里的省略，并不是不声明，而是由Scala编译器在编译时自动声明编译的。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaVariable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">// 因为变量值为字符串，又因为Scala是静态类型语言，所以即使不声明类型</span></span><br><span class="line">        <span class="comment">// Scala也能在编译时正确的判断出变量的类型，这体现了Scala语言的简洁特性。</span></span><br><span class="line">        <span class="keyword">var</span> username = <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">        <span class="keyword">val</span> userpswd = <span class="string">&quot;000000&quot;</span> </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-2-2-变量的初始化"><a href="#2-2-2-变量的初始化" class="headerlink" title="2.2.2 变量的初始化"></a>2.2.2 变量的初始化</h4><p>​	Java语法中变量在使用前进行初始化就可以，但是Scala语法中是不允许的，必须显示进行初始化操作。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaVariable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> username <span class="comment">// Error</span></span><br><span class="line">        <span class="keyword">val</span> username = <span class="string">&quot;zhangsan&quot;</span> <span class="comment">// OK</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-2-3-可变变量"><a href="#2-2-3-可变变量" class="headerlink" title="2.2.3 可变变量"></a>2.2.3 可变变量</h4><p>​	值可以改变的变量，称之为可变变量，但是变量类型无法发生改变, Scala中可变变量使用关键字var进行声明</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaVariable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">// 用户名称</span></span><br><span class="line">        <span class="keyword">var</span> username : <span class="type">String</span> = <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">        username = <span class="string">&quot;lisi&quot;</span> <span class="comment">// OK</span></span><br><span class="line">        username = <span class="literal">true</span> <span class="comment">// Error</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-2-4-不可变变量"><a href="#2-2-4-不可变变量" class="headerlink" title="2.2.4 不可变变量"></a>2.2.4 不可变变量</h4><p>​	值一旦初始化后无法改变的变量，称之为不可变变量。Scala中不可变变量使用关键字val进行声明, 类似于Java语言中的final关键字</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaVariable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">// 用户名称</span></span><br><span class="line">        <span class="keyword">val</span> username : <span class="type">String</span> = <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">        username = <span class="string">&quot;lisi&quot;</span> <span class="comment">// Error</span></span><br><span class="line">        username = <span class="literal">true</span> <span class="comment">// Error</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-3-标识符"><a href="#2-3-标识符" class="headerlink" title="2.3 标识符"></a>2.3 标识符</h3><p>​	Scala 可以使用两种形式的标志符，字符数字和符号。</p>
<ol>
<li><p>字符数字使用字母或是下划线开头，后面可以接字母或是数字，符号”$”在 Scala 中也看作为字母。然以”$”开头的标识符为保留的 Scala 编译器产生的标志符使用，应用程序应该避免使用”$”开始的标识符，以免造成冲突。(下划线开头的变量是为了给函数式编程最简化的时候使用的)</p>
</li>
<li><p>Scala 的命名规范采用和 Java 类似的 camel 命名规范，首字符小写，比如 toString。类名的首字符还是使用大写。此外也应该避免使用以下划线结尾的标志符以避免冲突。</p>
</li>
<li><p>Scala 内部实现时会使用转义的标志符，比如:-&gt; 使用 $colon$minus$greater 来表示这个符号。</p>
</li>
</ol>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 和Java一样的标识符命名规则</span></span><br><span class="line"><span class="keyword">val</span> name = <span class="string">&quot;zhangsan&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">val</span> name1 = <span class="string">&quot;zhangsan0&quot;</span>   <span class="comment">// OK</span></span><br><span class="line"><span class="comment">//val 1name = &quot;zhangsan0&quot; // Error</span></span><br><span class="line"><span class="keyword">val</span> name$ = <span class="string">&quot;zhangsan1&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">val</span> $name = <span class="string">&quot;zhangsan2&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">val</span> name_ = <span class="string">&quot;zhangsan3&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">val</span> _name = <span class="string">&quot;zhangsan4&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">val</span> $ = <span class="string">&quot;zhangsan5&quot;</span>     <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">val</span> _ = <span class="string">&quot;zhangsan6&quot;</span>     <span class="comment">// OK</span></span><br><span class="line"><span class="comment">//val 1 = &quot;zhangsan6&quot;     // Error</span></span><br><span class="line"><span class="comment">//val true = &quot;zhangsan6&quot;  // Error</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 和Java不一样的标识符命名规则</span></span><br><span class="line"><span class="keyword">val</span> + = <span class="string">&quot;lisi&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">val</span> - = <span class="string">&quot;lisi&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">val</span> * = <span class="string">&quot;lisi&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">val</span> / = <span class="string">&quot;lisi&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">val</span> ! = <span class="string">&quot;lisi&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="comment">//val @ = &quot;lisi&quot; // Error</span></span><br><span class="line"><span class="keyword">val</span> @@ = <span class="string">&quot;lisi&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="comment">//val # = &quot;lisi&quot; // Error</span></span><br><span class="line"><span class="keyword">val</span> ## = <span class="string">&quot;lisi&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">val</span> % = <span class="string">&quot;lisi&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">val</span> ^ = <span class="string">&quot;lisi&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">val</span> &amp; = <span class="string">&quot;lisi&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="comment">//val ( = &quot;lisi&quot; // Error</span></span><br><span class="line"><span class="comment">//val ( = &quot;lisi&quot; // Error</span></span><br><span class="line"><span class="comment">//val ) = &quot;lisi&quot; // Error</span></span><br><span class="line"><span class="comment">//val = = &quot;lisi&quot; // Error</span></span><br><span class="line"><span class="keyword">val</span> == = <span class="string">&quot;lisi&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="comment">//val [ = &quot;lisi&quot; // Error</span></span><br><span class="line"><span class="comment">//val ] = &quot;lisi&quot; // Error</span></span><br><span class="line"><span class="comment">//val : = &quot;lisi&quot; // Error</span></span><br><span class="line"><span class="keyword">val</span> :: = <span class="string">&quot;lisi&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="comment">//val ; = &quot;lisi&quot; // Error</span></span><br><span class="line"><span class="comment">//val &#x27; = &quot;lisi&quot; // Error</span></span><br><span class="line"><span class="comment">//val &quot; = &quot;lisi&quot; // Error</span></span><br><span class="line"><span class="keyword">val</span> <span class="string">&quot;&quot;</span> = <span class="string">&quot;lisi&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">val</span> &lt; = <span class="string">&quot;lisi&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">val</span> &gt; = <span class="string">&quot;lisi&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">val</span> ? = <span class="string">&quot;lisi&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">val</span> | = <span class="string">&quot;lisi&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">val</span> \ = <span class="string">&quot;lisi&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="comment">//val ` = &quot;lisi&quot; // Error</span></span><br><span class="line"><span class="keyword">val</span> ~ = <span class="string">&quot;lisi&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">val</span> :-&gt; = <span class="string">&quot;wangwu&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">val</span> :-&lt; = <span class="string">&quot;wangwu&quot;</span> <span class="comment">// OK</span></span><br><span class="line"><span class="comment">// 切记，能声明和能使用是两回事</span></span><br></pre></td></tr></table></figure>

<p>​	Scala 中的标识符也不能是<strong>关键字</strong>或<strong>保留字</strong>，那么Scala中有多少关键字或保留字呢？</p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662171736524.png" alt="1662171736524"></p>
<h3 id="2-4-字符串"><a href="#2-4-字符串" class="headerlink" title="2.4  字符串"></a>2.4  字符串</h3><p>​	在 Scala 中，字符串的类型实际上就是 Java中的 String类，它本身是没有 String 类的。</p>
<p>​	在 Scala 中，String 是一个不可变的字符串对象，所以该对象不可被修改。这就意味着你如果修改字符串就会产生一个新的字符串对象。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaString</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> name : <span class="type">String</span> = <span class="string">&quot;scala&quot;</span></span><br><span class="line">        <span class="keyword">val</span> subname : <span class="type">String</span> = name.substring(<span class="number">0</span>,<span class="number">2</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>字符串的连接</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaString</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">// 字符串连接</span></span><br><span class="line">        println(<span class="string">&quot;Hello &quot;</span> + name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>传值字符串</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">object ScalaString &#123;</span><br><span class="line">    def main(args: Array[String]): Unit = &#123;</span><br><span class="line">        // 传值字符串(格式化字符串)</span><br><span class="line">        printf(&quot;name=%s\n&quot;, name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>插值字符串</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaString</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">// 插值字符串</span></span><br><span class="line">        <span class="comment">// 将变量值插入到字符串</span></span><br><span class="line">        println(<span class="string">s&quot;name=<span class="subst">$&#123;name&#125;</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>多行字符串</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaString</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">// 多行格式化字符串</span></span><br><span class="line">        <span class="comment">// 在封装JSON或SQL时比较常用</span></span><br><span class="line">        <span class="comment">// | 默认顶格符</span></span><br><span class="line">        println(</span><br><span class="line">                    <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">                      | Hello</span></span><br><span class="line"><span class="string">                      | $&#123;name&#125;</span></span><br><span class="line"><span class="string">        &quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-5-输入输出"><a href="#2-5-输入输出" class="headerlink" title="2.5 输入输出"></a>2.5 输入输出</h3><p><strong>输入</strong></p>
<p><strong>控制台中输入</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaIn</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">// 标准化屏幕输入</span></span><br><span class="line">        <span class="keyword">val</span> age : <span class="type">Int</span> = scala.io.<span class="type">StdIn</span>.readInt()</span><br><span class="line">        println(age)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>文件中获取输入</strong></p>
<p>​	<strong>在这里要格外注意的一个点是：IDEA的基准路径是项目的根路径</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaIn</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// 请注意文件路径的位置</span></span><br><span class="line">        scala.io.<span class="type">Source</span>.fromFile(<span class="string">&quot;input/user.json&quot;</span>).foreach(</span><br><span class="line">            line =&gt; &#123;</span><br><span class="line">                print(line)</span><br><span class="line">            &#125;</span><br><span class="line">        )</span><br><span class="line">scala.io.<span class="type">Source</span>.fromFile(<span class="string">&quot;input/user.json&quot;</span>).getLines()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<hr>
<p><strong>输出</strong></p>
<p>Scala进行文件写操作，用的都是 java中的I&#x2F;O类</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaOut</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">      <span class="keyword">val</span> writer = <span class="keyword">new</span> <span class="type">PrintWriter</span>(<span class="keyword">new</span> <span class="type">File</span>(<span class="string">&quot;output/test.txt&quot;</span> ))</span><br><span class="line">      writer.write(<span class="string">&quot;Hello Scala&quot;</span>)</span><br><span class="line">      writer.close()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-6-数据类型"><a href="#2-6-数据类型" class="headerlink" title="2.6 数据类型"></a>2.6 数据类型</h3><h4 id="2-6-1-Java数据类型"><a href="#2-6-1-Java数据类型" class="headerlink" title="2.6.1 Java数据类型"></a>2.6.1 Java数据类型</h4><p>Java的数据类型包含基本类型和引用类型</p>
<ul>
<li>基本类型：byte,short,char,int,long,float,double,boolean</li>
<li>引用类型：Object，数组，字符串，包装类，集合，POJO对象等</li>
</ul>
<h4 id="2-6-2-Scala数据类型"><a href="#2-6-2-Scala数据类型" class="headerlink" title="2.6.2 Scala数据类型"></a>2.6.2 Scala数据类型</h4><p>​	Scala是完全面向对象的语言，所以不存在基本数据类型的概念，有的只是任意值对象类型（AnyVal）和任意引用对象类型(AnyRef)</p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662173261301.png" alt="1662173261301"></p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662173289280.png" alt="1662173289280"></p>
<p><strong>其中unit相当于java中的void类型，如果打印这个unit，会在控制台输出一对小括号</strong></p>
<p><strong>Nothing是Scala语言中特殊的类型，用于统一方法的异常和正常的返回</strong></p>
<h3 id="2-7-类型转换"><a href="#2-7-类型转换" class="headerlink" title="2.7 类型转换"></a>2.7 类型转换</h3><p><strong>自动类型转换</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaDataType</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> b : <span class="type">Byte</span> = <span class="number">10</span></span><br><span class="line">        <span class="keyword">val</span> s : <span class="type">Short</span> = b</span><br><span class="line">        <span class="keyword">val</span> i : <span class="type">Int</span> = s</span><br><span class="line">        <span class="keyword">val</span> lon : <span class="type">Long</span> = i</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>强制类型转换</strong></p>
<p>Java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span></span><br><span class="line"><span class="type">byte</span> <span class="variable">b</span> <span class="operator">=</span> (<span class="type">byte</span>)a</span><br></pre></td></tr></table></figure>

<p>Scala</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a : <span class="type">Int</span> = <span class="number">10</span></span><br><span class="line"><span class="type">Var</span> b : <span class="type">Byte</span> = a.toByte</span><br><span class="line"><span class="comment">// 基本上Scala的AnyVal类型之间都提供了相应转换的方法。</span></span><br></pre></td></tr></table></figure>

<p><strong>字符串类型转换</strong></p>
<p>Scala是完全面向对象的语言，所有的类型都提供了toString方法，可以直接转换为字符串</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lon.toString</span><br></pre></td></tr></table></figure>

<p>任意类型都提供了和字符串进行拼接的方法</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> i = <span class="number">10</span></span><br><span class="line"><span class="keyword">val</span> s = <span class="string">&quot;hello &quot;</span> + i</span><br></pre></td></tr></table></figure>

<h2 id="3-运算符"><a href="#3-运算符" class="headerlink" title="3. 运算符"></a>3. 运算符</h2><p><strong>算数运算符</strong></p>
<p>​	假定变量A为10，B为20</p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662177203231.png" alt="1662177203231"></p>
<p><strong>关系运算符</strong></p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662177232207.png" alt="1662177232207"></p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662177373542.png" alt="1662177373542"></p>
<p>目前的理解：</p>
<p>​	第一行其实是和第二行一样的，scala会把等于等于号自动调用equals方法，而第三行则是相当于java中的&#x3D;&#x3D;，就是比较地址，因此只有第三行返回false</p>
<p><strong>赋值运算符</strong></p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662179792587.png" alt="1662179792587"></p>
<p>在Scala中取消了++ 、–运算符</p>
<p><strong>逻辑运算符</strong></p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662179824788.png" alt="1662179824788"></p>
<p><strong>位运算符</strong></p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662179946296.png" alt="1662179946296"></p>
<p><strong>运算符本质</strong></p>
<p>​	在Scala中其实是没有运算符的，所有的运算符都是方法</p>
<ul>
<li><p>Scala是完全面向对象的语言，所以数字其实也是对象</p>
</li>
<li><p>当调用对象的方法时，点.可以省略</p>
</li>
<li><p>如果函数参数只有一个，或者没有参数，()可以省略</p>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaOper</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> i : <span class="type">Int</span> = <span class="number">10</span></span><br><span class="line">        <span class="keyword">val</span> j : <span class="type">Int</span> = i.+(<span class="number">10</span>)</span><br><span class="line">        <span class="keyword">val</span> k : <span class="type">Int</span> = j +(<span class="number">20</span>)</span><br><span class="line">        <span class="keyword">val</span> m : <span class="type">Int</span> = k + <span class="number">30</span></span><br><span class="line">        println(m)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-流程控制"><a href="#4-流程控制" class="headerlink" title="4. 流程控制"></a>4. 流程控制</h2><h3 id="4-1-for循环"><a href="#4-1-for循环" class="headerlink" title="4.1 for循环"></a>4.1 for循环</h3><p><strong>基本语法</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ( 循环变量 &lt;- 数据集 ) &#123;</span><br><span class="line">    循环体</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	这里的数据集可以是任意类型的数据集合，如字符串，集合，数组等，这里我们还没有讲到集合，数组语法，请大家不要着急，先能演示例子，后面咱们详细讲。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaLoop</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">for</span> ( i &lt;- <span class="type">Range</span>(<span class="number">1</span>,<span class="number">5</span>) ) &#123; <span class="comment">// 范围集合</span></span><br><span class="line">            println(<span class="string">&quot;i = &quot;</span> + i )</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> ( i &lt;- <span class="number">1</span> to <span class="number">5</span> ) &#123; <span class="comment">// 包含5</span></span><br><span class="line">            println(<span class="string">&quot;i = &quot;</span> + i )</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> ( i &lt;- <span class="number">1</span> until <span class="number">5</span> ) &#123; <span class="comment">// 不包含5</span></span><br><span class="line">            println(<span class="string">&quot;i = &quot;</span> + i )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>循环守卫</strong></p>
<p>​	循环时可以增加条件来决定是否继续循环体的执行,这里的判断条件我们称之为循环守卫</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaLoop</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">for</span> ( i &lt;- <span class="type">Range</span>(<span class="number">1</span>,<span class="number">5</span>) <span class="keyword">if</span> i != <span class="number">3</span>  ) &#123;</span><br><span class="line">            println(<span class="string">&quot;i = &quot;</span> + i )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>循环步长</strong></p>
<p>​	scala的集合也可以设定循环的增长幅度，也就是所谓的步长step</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaLoop</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">for</span> ( i &lt;- <span class="type">Range</span>(<span class="number">1</span>,<span class="number">5</span>,<span class="number">2</span>) ) &#123;</span><br><span class="line">            println(<span class="string">&quot;i = &quot;</span> + i )</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> ( i &lt;- <span class="number">1</span> to <span class="number">5</span> by <span class="number">2</span> ) &#123;</span><br><span class="line">            println(<span class="string">&quot;i = &quot;</span> + i )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>循环嵌套</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaLoop</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">for</span> ( i &lt;- <span class="type">Range</span>(<span class="number">1</span>,<span class="number">5</span>); j &lt;- <span class="type">Range</span>(<span class="number">1</span>,<span class="number">4</span>) ) &#123;</span><br><span class="line">            println(<span class="string">&quot;i = &quot;</span> + i + <span class="string">&quot;,j = &quot;</span> + j )</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> ( i &lt;- <span class="type">Range</span>(<span class="number">1</span>,<span class="number">5</span>) ) &#123;</span><br><span class="line">            <span class="keyword">for</span> ( j &lt;- <span class="type">Range</span>(<span class="number">1</span>,<span class="number">4</span>) ) &#123;</span><br><span class="line">                println(<span class="string">&quot;i = &quot;</span> + i + <span class="string">&quot;,j = &quot;</span> + j )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>循环返回值</strong></p>
<p>​	Scala所有的表达式都是有返回值的。但是这里的返回值并不一定都是有值的哟。</p>
<p>​	如果希望for循环表达式的返回值有具体的值，需要使用关键字yield</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaLoop</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> result = <span class="keyword">for</span> ( i &lt;- <span class="type">Range</span>(<span class="number">1</span>,<span class="number">5</span>) ) <span class="keyword">yield</span> &#123;</span><br><span class="line">            i * <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">        println(result)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662181090945.png" alt="1662181090945"></p>
<h3 id="4-2-While循环"><a href="#4-2-While循环" class="headerlink" title="4.2 While循环"></a>4.2 While循环</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaLoop</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> i = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> ( i &lt; <span class="number">5</span> ) &#123;</span><br><span class="line">            println(i)</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaLoop</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> i = <span class="number">5</span></span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            println(i)</span><br><span class="line">        &#125; <span class="keyword">while</span> ( i &lt; <span class="number">5</span> )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-3-循环中断"><a href="#4-3-循环中断" class="headerlink" title="4.3 循环中断"></a>4.3 循环中断</h3><p>​	Scala是完全面向对象的语言，所以无法使用break，continue关键字这样的方式来中断，或继续循环逻辑，而是采用了函数式编程的方式代替了循环语法中的break和continue</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaLoop</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        scala.util.control.<span class="type">Breaks</span>.breakable &#123;</span><br><span class="line">            <span class="keyword">for</span> ( i &lt;- <span class="number">1</span> to <span class="number">5</span> ) &#123;</span><br><span class="line">                <span class="keyword">if</span> ( i == <span class="number">3</span> ) &#123;</span><br><span class="line">                    scala.util.control.<span class="type">Breaks</span>.<span class="keyword">break</span></span><br><span class="line">                &#125;</span><br><span class="line">                println(i)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-基础函数编程"><a href="#5-基础函数编程" class="headerlink" title="5. 基础函数编程"></a>5. 基础函数编程</h2><h3 id="5-1-基本语法"><a href="#5-1-基本语法" class="headerlink" title="5.1 基本语法"></a>5.1 基本语法</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[修饰符] <span class="function"><span class="keyword">def</span> <span class="title">函数名</span> </span>( 参数列表 ) [:返回值类型] = &#123;</span><br><span class="line">    函数体</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>( s : <span class="type">String</span> ) : <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(s)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-2-函数-amp-方法"><a href="#5-2-函数-amp-方法" class="headerlink" title="5.2 函数&amp;方法"></a>5.2 函数&amp;方法</h3><ul>
<li><p>Scala 中存在方法与函数两个不同的概念，二者在语义上的区别很小。scala 方法是类的一部分，而函数是一个对象，可以赋值给一个变量。换句话来说在类中定义的函数即是方法。scala 中的方法跟 Java 的类似，方法是组成类的一部分。scala 中的函数则是一个完整的对象。</p>
</li>
<li><p>Scala中的方法和函数从语法概念上来讲，一般不好区分，所以简单的理解就是：方法也是函数。只不过类中声明的函数称之为方法，其他场合声明的就是函数了。类中的方法是有重载和重写的。<strong>而函数可就没有重载和重写的概念</strong>了，<strong>但是函数可以嵌套声明使用，方法就没有这个能力</strong>了。</p>
</li>
</ul>
<p>函数不强调属于谁，只是功能的封装，函数的本质上其实也是一个方法，编译成java字节码文件的时候，会在当前类中添加一个方法，不过会增加private static final 这几个关键字，因此他的作用范围比较小，而且不可以被重载。</p>
<p>方法也是功能的封装，但是更强调属于谁</p>
<h3 id="5-3-函数定义"><a href="#5-3-函数定义" class="headerlink" title="5.3 函数定义"></a>5.3 函数定义</h3><p><strong>无参，无返回值</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun1</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">            println(<span class="string">&quot;函数体&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        fun1()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当函数定义的时候没有参数，调用函数的时候可以把括号删除。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">object ScalaFunction &#123;</span><br><span class="line">    def main(args: Array[String]): Unit = &#123;</span><br><span class="line">        def fun1(): Unit = &#123;</span><br><span class="line">            println(&quot;函数体&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">        fun1</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>无参，有返回值</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun2</span></span>(): <span class="type">String</span> = &#123;</span><br><span class="line">            <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        println( fun2() )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>有参，无返回值</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun3</span></span>( name:<span class="type">String</span> ): <span class="type">Unit</span> = &#123;</span><br><span class="line">            println( name )</span><br><span class="line">        &#125;</span><br><span class="line">        fun3(<span class="string">&quot;zhangsan&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>有参有返回值</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun4</span></span>(name:<span class="type">String</span>): <span class="type">String</span> = &#123;</span><br><span class="line">            <span class="string">&quot;Hello &quot;</span> + name</span><br><span class="line">        &#125;</span><br><span class="line">        println( fun4(<span class="string">&quot;zhangsan&quot;</span>) )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>多参，无返回值</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun5</span></span>(hello:<span class="type">String</span>, name:<span class="type">String</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">            println( hello + <span class="string">&quot; &quot;</span> + name )</span><br><span class="line">        &#125;</span><br><span class="line">        fun5(<span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;zhangsan&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>多参，有返回值</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun6</span></span>(hello:<span class="type">String</span>, name:<span class="type">String</span>): <span class="type">String</span> = &#123;</span><br><span class="line">            hello + <span class="string">&quot; &quot;</span> + name</span><br><span class="line">        &#125;</span><br><span class="line">        println( fun6(<span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;zhangsan&quot;</span>))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-4-函数参数"><a href="#5-4-函数参数" class="headerlink" title="5.4 函数参数"></a>5.4 函数参数</h3><p><strong>可变参数</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun7</span></span>(names:<span class="type">String</span>*): <span class="type">Unit</span> = &#123;</span><br><span class="line">            println(names)</span><br><span class="line">        &#125;</span><br><span class="line">        fun7()</span><br><span class="line">        fun7( <span class="string">&quot;zhangsan&quot;</span> )</span><br><span class="line">        fun7( <span class="string">&quot;zhangsan&quot;</span>, <span class="string">&quot;lisi&quot;</span> )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	可变参数不能放置在参数列表的前面，一般放置在参数列表的最后</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">// Error</span></span><br><span class="line">        <span class="comment">//def fun77(names:String*, name:String): Unit = &#123;</span></span><br><span class="line">            </span><br><span class="line">        <span class="comment">//&#125;</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun777</span></span>( name:<span class="type">String</span>, names:<span class="type">String</span>* ): <span class="type">Unit</span> = &#123;</span><br><span class="line">            println( name )</span><br><span class="line">            println( names )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>参数默认值</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun8</span></span>( name:<span class="type">String</span>, password:<span class="type">String</span> = <span class="string">&quot;000000&quot;</span> ): <span class="type">Unit</span> = &#123;</span><br><span class="line">            println( name + <span class="string">&quot;,&quot;</span> + password )</span><br><span class="line">        &#125;</span><br><span class="line">        fun8(<span class="string">&quot;zhangsan&quot;</span>, <span class="string">&quot;123123&quot;</span>)</span><br><span class="line">        fun8(<span class="string">&quot;zhangsan&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>带名参数</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun9</span></span>( password:<span class="type">String</span> = <span class="string">&quot;000000&quot;</span>, name:<span class="type">String</span> ): <span class="type">Unit</span> = &#123;</span><br><span class="line">            println( name + <span class="string">&quot;,&quot;</span> + password )</span><br><span class="line">        &#125;</span><br><span class="line">        fun9(<span class="string">&quot;123123&quot;</span>, <span class="string">&quot;zhangsan&quot;</span> )</span><br><span class="line">        fun9(name=<span class="string">&quot;zhangsan&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-5-函数至简原则（重点）"><a href="#5-5-函数至简原则（重点）" class="headerlink" title="5.5 函数至简原则（重点）"></a>5.5 函数至简原则（重点）</h3><p>​	所谓的至简原则，其实就是Scala的作者为了开发人员能够大幅度提高开发效率。通过编译器的动态判定功能，帮助我们将函数声明中能简化的地方全部都进行了简化。也就是说将函数声明中那些能省的地方全部都省掉。所以这里的至简原则，简单来说就是：能省则省。</p>
<p><strong>省略return关键字</strong></p>
<p>函数会把最后一行代码的执行结果作为函数的返回值</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun1</span></span>(): <span class="type">String</span> = &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun11</span></span>(): <span class="type">String</span> = &#123;</span><br><span class="line">            <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>省略花括号</strong></p>
<p>如果逻辑代码只有一行，那么花括号可以省略</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun2</span></span>(): <span class="type">String</span> = <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>省略返回值类型</strong></p>
<p>函数根据返回数据，判断出返回值类型，那么返回值类型可以省略</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun3</span></span>() = <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>省略参数列表</strong></p>
<p>如果函数的参数列表没有声明任何的参数，那么参数列表可以删除</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun4</span> </span>= <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">        fun4<span class="comment">// OK</span></span><br><span class="line">        fun4()<span class="comment">//(ERROR)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>省略等号</strong></p>
<p>​	如果函数体中有明确的return语句，那么返回值类型不能省略</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun5</span></span>(): <span class="type">String</span> = &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        println(fun5())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	如果函数体返回值类型明确为Unit,那么函数体中即使有return关键字也不起作用</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun5</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        println(fun5())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	如果函数体返回值类型声明为Unit,但是又想省略，那么此时就必须连同等号一起省略</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun5</span></span>() &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        println(fun5())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>省略名称和关键字（称为匿名函数）</strong></p>
<p>省略的同时需要把返回值类型也删除，同时再等号的后面增加一个箭头</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        () =&gt; &#123;</span><br><span class="line">            println(<span class="string">&quot;zhangsan&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-高阶函数编程"><a href="#6-高阶函数编程" class="headerlink" title="6. 高阶函数编程"></a>6. 高阶函数编程</h2><p>​	所谓的高阶函数，其实就是把函数当作一个类型去使用，而不是当作特定的语法结构。</p>
<h3 id="6-1-函数作为值"><a href="#6-1-函数作为值" class="headerlink" title="6.1 函数作为值"></a>6.1 函数作为值</h3><p>如果我们要把一个函数作为整体，而不是执行结果赋值给变量，那么需要采用特殊符号：下划线</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun1</span></span>(): <span class="type">String</span> = &#123;</span><br><span class="line">            <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">val</span> a = fun1     <span class="comment">//这行代码是把fun1函数的返回结果赋值给了a变量</span></span><br><span class="line">        <span class="keyword">val</span> b = fun1 _   <span class="comment">//这行代码是把fun1当作一个对象赋值给了b变量</span></span><br><span class="line">        <span class="keyword">val</span> c : ()=&gt;<span class="type">Unit</span> = fun1    <span class="comment">//这行代码指定了c的类型，因此也是把fun1当作一个对象赋值给了c变量</span></span><br><span class="line">        println(a) </span><br><span class="line">        println(b)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-2-函数作为参数"><a href="#6-2-函数作为参数" class="headerlink" title="6.2 函数作为参数"></a>6.2 函数作为参数</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun2</span></span>( i:<span class="type">Int</span> ): <span class="type">Int</span> = &#123;</span><br><span class="line">            i * <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun22</span></span>( f : <span class="type">Int</span> =&gt; <span class="type">Int</span> ): <span class="type">Int</span> = &#123;</span><br><span class="line">            f(<span class="number">10</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        println(fun22(fun2))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-3-函数作为返回值"><a href="#6-3-函数作为返回值" class="headerlink" title="6.3 函数作为返回值"></a>6.3 函数作为返回值</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun3</span></span>( i:<span class="type">Int</span> ): <span class="type">Int</span> = &#123;</span><br><span class="line">            i * <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun33</span></span>( ) = &#123;</span><br><span class="line">            fun3 _</span><br><span class="line">        &#125;</span><br><span class="line">        println(fun33()(<span class="number">10</span>))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-4-匿名函数"><a href="#6-4-匿名函数" class="headerlink" title="6.4 匿名函数"></a>6.4 匿名函数</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun4</span></span>( f:<span class="type">Int</span> =&gt; <span class="type">Int</span> ): <span class="type">Int</span> = &#123;</span><br><span class="line">            f(<span class="number">10</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        println(fun4((x:<span class="type">Int</span>)=&gt;&#123;x * <span class="number">20</span>&#125;))</span><br><span class="line">        println(fun4((x)=&gt;&#123;x * <span class="number">20</span>&#125;))</span><br><span class="line">        println(fun4((x)=&gt;x * <span class="number">20</span>))</span><br><span class="line">        println(fun4(x=&gt;x * <span class="number">20</span>))</span><br><span class="line">        println(fun4(_ * <span class="number">20</span>))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662195343430.png" alt="1662195343430"></p>
<h3 id="6-5-控制抽象"><a href="#6-5-控制抽象" class="headerlink" title="6.5 控制抽象"></a>6.5 控制抽象</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun7</span></span>(op: =&gt; <span class="type">Unit</span>) = &#123;</span><br><span class="line">            op</span><br><span class="line">        &#125;</span><br><span class="line">        fun7&#123;</span><br><span class="line">            println(<span class="string">&quot;xx&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以采用控制抽象设计语法，我们自己不常使用，语法框架使用的比较多</p>
<p>Scala的Breaks.breakable就是采用的控制抽象设计语法</p>
<h3 id="6-6-闭包"><a href="#6-6-闭包" class="headerlink" title="6.6 闭包"></a>6.6 闭包</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun5</span></span>() = &#123;</span><br><span class="line">            <span class="keyword">val</span> i = <span class="number">20</span></span><br><span class="line">            <span class="function"><span class="keyword">def</span> <span class="title">fun55</span></span>() = &#123;</span><br><span class="line">                i * <span class="number">2</span></span><br><span class="line">            &#125;</span><br><span class="line">            fun55 _</span><br><span class="line">        &#125;</span><br><span class="line">        fun5()()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p> 一个函数使用了外部的变量，把这个变量包含到了它的内部来使用，改变了这个变量的生命周期</p>
<p>将当前的代码形成了一个闭合的环境，这个环境称之为闭包环境，简称为闭包</p>
<p> <img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662220084225.png" alt="1662220084225"></p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662220154275.png" alt="1662220154275"></p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662220430708.png" alt="1662220430708"></p>
<p>​	</p>
<p>​	本质上，就是在内部函数增加了形参个数，从而把外部的变量延长了声明周期，因此内部函数也可以使用外部变量。</p>
<p><strong>闭包形成的三种情况：</strong></p>
<ol>
<li>内部函数在外部使用的时候会产生闭包</li>
<li>将函数作为对象使用，会产生闭包</li>
<li>所有的匿名函数都会产生闭包</li>
</ol>
<h3 id="6-7-函数柯里化"><a href="#6-7-函数柯里化" class="headerlink" title="6.7 函数柯里化"></a>6.7 函数柯里化</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun6</span></span>(i:<span class="type">Int</span>)(j:<span class="type">Int</span>) = &#123;</span><br><span class="line">            i * j</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="6-8-递归函数"><a href="#6-8-递归函数" class="headerlink" title="6.8 递归函数"></a>6.8 递归函数</h3><ol>
<li>Scala 中要求递归函数必须明确声明返回值类型</li>
<li>函数内部需要调用自身</li>
<li>一定要有跳出递归的逻辑</li>
</ol>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun8</span></span>(j:<span class="type">Int</span>):<span class="type">Int</span> = &#123;</span><br><span class="line">            <span class="keyword">if</span> ( j &lt;= <span class="number">1</span> ) &#123;</span><br><span class="line">                <span class="number">1</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                j * fun8(j<span class="number">-1</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        println(fun8(<span class="number">5</span>))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>栈内存溢出：</strong> 每一个线程都会有一个栈，当线程过多的时候，就会导致内存不够，从而出现栈内存溢出的错误</p>
<p><strong>栈滚动错误：</strong>每一个方法都会压栈，当递归使用函数的时候，如果不断的把函数压栈，当数目过多的时候，就是出现这个错误。</p>
<h3 id="6-9-惰性函数"><a href="#6-9-惰性函数" class="headerlink" title="6.9 惰性函数"></a>6.9 惰性函数</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun9</span></span>(): <span class="type">String</span> = &#123;</span><br><span class="line">            println(<span class="string">&quot;function...&quot;</span>)</span><br><span class="line">            <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">lazy</span> <span class="keyword">val</span> a = fun9()</span><br><span class="line">        println(<span class="string">&quot;----------&quot;</span>)</span><br><span class="line">        println(a)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7-面向对象编程"><a href="#7-面向对象编程" class="headerlink" title="7. 面向对象编程"></a>7. 面向对象编程</h2><h3 id="7-1-基础面向对象编程"><a href="#7-1-基础面向对象编程" class="headerlink" title="7.1 基础面向对象编程"></a>7.1 基础面向对象编程</h3><h4 id="7-1-1-包"><a href="#7-1-1-包" class="headerlink" title="7.1.1 包"></a>7.1.1 包</h4><p>​	Scala中基本的package包语法和Java完全一致</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.scala</span><br></pre></td></tr></table></figure>

<p>Java中package包的语法比较单一，Scala对此进行扩展</p>
<ul>
<li><p>Scala中的包和类的物理路径没有关系</p>
</li>
<li><p>package关键字可以嵌套声明使用</p>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com</span><br><span class="line"><span class="keyword">package</span> atguigu &#123;</span><br><span class="line">    <span class="keyword">package</span> bigdata &#123;</span><br><span class="line">        <span class="keyword">package</span> scala &#123;</span><br><span class="line">            <span class="class"><span class="keyword">object</span> <span class="title">ScalaPackage</span> </span>&#123;</span><br><span class="line">                <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">                    println(<span class="string">&quot;test...&quot;</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>同一个源码文件中子包可以直接访问父包中的内容，而无需import</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com</span><br><span class="line"><span class="keyword">package</span> atguigu &#123;</span><br><span class="line">    <span class="keyword">package</span> bigdata &#123;</span><br><span class="line">        <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">package</span> scala &#123;</span><br><span class="line">            <span class="class"><span class="keyword">object</span> <span class="title">ScalaPackage</span> </span>&#123;</span><br><span class="line">                <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">                    <span class="keyword">new</span> <span class="type">Test</span>()</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Scala中package也可以看作对象，并声明属性和函数</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com</span><br><span class="line"><span class="keyword">package</span> <span class="class"><span class="keyword">object</span> <span class="title">atguigu</span> </span>&#123;</span><br><span class="line">    <span class="keyword">val</span> name : <span class="type">String</span> = <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println( name )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">package</span> atguigu &#123;</span><br><span class="line">    <span class="keyword">package</span> bigdata &#123;</span><br><span class="line">        <span class="keyword">package</span> scala &#123;</span><br><span class="line">            <span class="class"><span class="keyword">object</span> <span class="title">ScalaPackage</span> </span>&#123;</span><br><span class="line">                <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="7-1-2-导入"><a href="#7-1-2-导入" class="headerlink" title="7.1.2 导入"></a>7.1.2 导入</h4><p>​	Scala中基本的import导入语法和Java完全一致</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.<span class="type">List</span></span><br><span class="line"><span class="keyword">import</span> java.util._ <span class="comment">// Scala中使用下划线代替Java中的星号</span></span><br></pre></td></tr></table></figure>

<p>Java中import导入的语法比较单一，Scala对此进行扩展</p>
<ul>
<li>Scala中的import语法可以在任意位置使用</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaImport</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">import</span> java.util.<span class="type">ArrayList</span></span><br><span class="line">        <span class="keyword">new</span>  <span class="type">ArrayList</span>()   </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Scala中可以导包，而不是导类</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaImport</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">import</span> java.util</span><br><span class="line">        <span class="keyword">new</span> util.<span class="type">ArrayList</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Scala中可以在同一行中导入相同包中的多个类，简化代码</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.&#123;<span class="type">List</span>, <span class="type">ArrayList</span>&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Scala中可以屏蔽某个包中的类</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util._</span><br><span class="line"><span class="keyword">import</span> java.sql.&#123; <span class="type">Date</span>=&gt;_, <span class="type">Array</span>=&gt;_, _ &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Scala中可以给类起别名，简化使用(跟python有点像)</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.&#123;<span class="type">ArrayList</span>=&gt;<span class="type">AList</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaImport</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="type">AList</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>默认情况下，Scala中会导入如下包和对象</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang._</span><br><span class="line"><span class="keyword">import</span> scala._</span><br><span class="line"><span class="keyword">import</span> scala.<span class="type">Predef</span>._</span><br></pre></td></tr></table></figure>

<h4 id="7-1-3-类"><a href="#7-1-3-类" class="headerlink" title="7.1.3 类"></a>7.1.3 类</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 声明类：访问权限 class 类名 &#123; 类主体内容 &#125; </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 类的主体内容</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 对象：new 类名(参数列表)</span></span><br><span class="line"><span class="keyword">new</span> <span class="type">User</span>()</span><br></pre></td></tr></table></figure>

<p>​	Scala中一个源文件中可以声明多个公共类</p>
<h4 id="7-1-4-属性"><a href="#7-1-4-属性" class="headerlink" title="7.1.4 属性"></a>7.1.4 属性</h4><ol>
<li>属性其实就是类中的变量</li>
<li>在Scala之中，编译的时候，编译器会把变量编译为类的私有属性，同时提供了属性对应的set以及get方法</li>
<li>当在其它地方给类的属性赋值的时候，等同于调用了它公有的set方法</li>
<li>val声明的属性，编译的时候，会给属性添加final关键字，编译器不会提供set方法</li>
<li>在scala之中给某个属性添加private关键字之后，编译器会把其set和get方法添加上private修饰符</li>
</ol>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name : <span class="type">String</span> = _ <span class="comment">// 类属性其实就是类变量</span></span><br><span class="line">    <span class="keyword">var</span> age : <span class="type">Int</span> = _ <span class="comment">// 下划线表示类的属性默认初始化</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们知道在java中对于一个类有Bean规范，就是属性私有化，提供其公有的set和get方法，原因是因为反射机制，我们需要把架构设计的通用化，但是scala中给属性提供的set和get方法名字与java Bean规范中的不一致，因此不遵循bean规范，为了满足java中的Bean规范，设计了一个关键字</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name : <span class="type">String</span> = _</span><br><span class="line"><span class="keyword">val</span> age : <span class="type">Int</span> = <span class="number">30</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">val</span> email : <span class="type">String</span> = _</span><br><span class="line"><span class="meta">@BeanProperty</span> <span class="keyword">var</span> address : <span class="type">String</span> = _    <span class="comment">//为了满足java的bean规范</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="7-1-5-访问权限"><a href="#7-1-5-访问权限" class="headerlink" title="7.1.5 访问权限"></a>7.1.5 访问权限</h4><p>在java中，一共有四个访问权限</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> <span class="keyword">private</span>           只能在本类中使用</span><br><span class="line"><span class="number">2.</span> （<span class="keyword">default</span>）        在本类中以及本包中使用</span><br><span class="line"><span class="number">3.</span> <span class="keyword">protected</span>         本类别、本包、子类中使用</span><br><span class="line"><span class="number">4.</span> <span class="keyword">public</span>            任意</span><br></pre></td></tr></table></figure>

<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662258877616.png" alt="1662258877616"></p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662258979964.png" alt="1662258979964"></p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662259012241.png" alt="1662259012241"></p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662259058809.png" alt="1662259058809"></p>
<p>super关键字只在编译时其作用，在运行时根本没有这个关键字</p>
<p>在scala中去掉了一个关键字</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> <span class="keyword">private</span>        同类中可以使用</span><br><span class="line"><span class="number">2.</span> <span class="keyword">private</span>[包名]   同包内可以使用</span><br><span class="line"><span class="number">3.</span> <span class="keyword">protected</span>      同类和子类（同包不能使用）</span><br><span class="line"><span class="number">4.</span> (<span class="keyword">default</span>)      公共的，相当于public关键字</span><br></pre></td></tr></table></figure>

<h4 id="7-1-6-方法"><a href="#7-1-6-方法" class="headerlink" title="7.1.6 方法"></a>7.1.6 方法</h4><p>在类中声明的函数，就是方法</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaMethod</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> user = <span class="keyword">new</span> <span class="type">User</span></span><br><span class="line">        user.login(<span class="string">&quot;zhangsan&quot;</span>, <span class="string">&quot;000000&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">login</span></span>( name:<span class="type">String</span>, password:<span class="type">String</span> ): <span class="type">Boolean</span> = &#123;</span><br><span class="line">        <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662260405624.png" alt="1662260405624"></p>
<p>方法的重写：</p>
<p>如何区分父类以及子类中相同的方法，需要采用动态绑定机制</p>
<p>在调用对象的成员方法过程中，把方法和对象的实际内存进行绑定，然后调用</p>
<h4 id="7-1-7-对象"><a href="#7-1-7-对象" class="headerlink" title="7.1.7 对象"></a>7.1.7 对象</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> | <span class="keyword">var</span> 对象名 [：类型]  = <span class="keyword">new</span> 类型()</span><br><span class="line"><span class="keyword">var</span> user : <span class="type">User</span> = <span class="keyword">new</span> <span class="type">User</span>()</span><br><span class="line"><span class="comment">//1. 反射</span></span><br><span class="line"><span class="comment">//2. new</span></span><br><span class="line"><span class="comment">//3. 反序列化</span></span><br><span class="line"><span class="comment">//4. 克隆</span></span><br></pre></td></tr></table></figure>

<h4 id="7-1-8-构造方法"><a href="#7-1-8-构造方法" class="headerlink" title="7.1.8 构造方法"></a>7.1.8 构造方法</h4><p>Scala是一个完全面向对象的语言，又是一个完全面向函数的语言</p>
<p>因此类也是一个函数：声明一个类就等同于声明了一个函数</p>
<p>类名的后面可以声明小括号，表示构造参数列表</p>
<p>如果提供了类的构造方法，那么jvm不会再给类提供无参的构造方法</p>
<p>在Scala中把构造方法分为了两类：主构造方法和辅助构造方法</p>
<p>用于完成类的初始化操作的构造方法称之为主构造方法</p>
<p>其它的构造方法称为辅助构造发方法，辅助构造方法的名字是this关键字，其它和普通方法一样</p>
<p>辅助构造方法的作用就是在完成类的初始化工作之后，做一些辅助功能，在执行之前，应当首先调用主构造方法完成类的初始化 </p>
<p>辅助构造方法可以重载，并且可以互相调用，但是调用的辅助构造方法应该提前声明</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span>(<span class="params"></span>) </span>&#123; <span class="comment">// 主构造函数</span></span><br><span class="line">    <span class="keyword">var</span> username : <span class="type">String</span> = _ </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>( name:<span class="type">String</span> ) &#123; <span class="comment">// 辅助构造函数，使用this关键字声明</span></span><br><span class="line">        <span class="keyword">this</span>() <span class="comment">// 辅助构造函数应该直接或间接调用主构造函数</span></span><br><span class="line">        username = name</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">this</span></span>( name:<span class="type">String</span>, password:<span class="type">String</span> ) &#123;</span><br><span class="line">    <span class="keyword">this</span>(name) <span class="comment">// 构造器调用其他另外的构造器，要求被调用构造器必须提前声明</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>object关键字</strong></p>
<p>构造方法私有化：在参数列表的前面增加private关键字</p>
<p>需要声明一个公共的，静态的返回本类型的方法，用于获取对象，但是Scala中不存在静态语法，所有这就构成了死锁，没有静态语法我们就没有办法使用类中的方法，不使用类的方法就没办法得到类的对象。因此Scala中采用了一种特殊的语法来代替静态语法：object</p>
<p> <img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662263161792.png" alt="1662263161792"></p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662263252806.png" alt="1662263252806"></p>
<h3 id="7-2-高阶面向对象编程"><a href="#7-2-高阶面向对象编程" class="headerlink" title="7.2 高阶面向对象编程"></a>7.2 高阶面向对象编程</h3><h4 id="7-2-1-继承"><a href="#7-2-1-继承" class="headerlink" title="7.2.1 继承"></a>7.2.1 继承</h4><p>​	和Java一样，Scala中的继承也是单继承，且使用extends关键字。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	构造对象时需要考虑构造方法的执行顺序</p>
<h4 id="7-2-2-封装"><a href="#7-2-2-封装" class="headerlink" title="7.2.2 封装"></a>7.2.2 封装</h4><p>封装就是把抽象出的数据和对数据的操作封装在一起，数据被保护在内部，程序的其它部分只有通过被授权的操作（成员方法），才能对数据进行访问。</p>
<ol>
<li>将属性进行私有化</li>
<li>提供一个公共的set方法，用于对属性赋值</li>
<li>提供一个公共的get方法，用于获取属性的值</li>
</ol>
<h4 id="7-2-3-抽象"><a href="#7-2-3-抽象" class="headerlink" title="7.2.3 抽象"></a>7.2.3 抽象</h4><p>​	<strong>所谓的抽象，其实就是就是不完整</strong></p>
<p>Scala中不完整的方法就是抽象方法，不需要额外增加abstract关键字</p>
<p>Scala中的属性也是可以抽象的，就是只有声明，没有初始化，<strong>在编译器编译过程中，并不会声明该属性，而是会声明属性的set以及get方法，而且是抽象的</strong></p>
<p>在Scala中重写父类的完整方法，必须要添加override关键字</p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662266884520.png" alt="1662266884520"></p>
<p>上图那个age属性，也需要添加override关键字，不然会报错，而且上述会执行错误，因为在Scala中的可变变量属性不允许重写。只有val不可变变量才可以重写</p>
<p>Scala将一个不完整的类称之为抽象类。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Scala中如果一个方法只有声明而没有实现，那么是抽象方法，因为它不完整。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>():<span class="type">Unit</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Scala中如果一个属性只有声明没有初始化，那么是抽象属性，因为它不完整。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name:<span class="type">String</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>子类如果继承抽象类，必须实现抽象方法或补全抽象属性，否则也必须声明为抽象的，因为依然不完整。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name:<span class="type">String</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name : <span class="type">String</span> = <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="7-2-4-单例对象"><a href="#7-2-4-单例对象" class="headerlink" title="7.2.4 单例对象"></a>7.2.4 单例对象</h4><ul>
<li><p>所谓的单例对象，就是在程序运行过程中，指定类的对象只能创建一个，而不能创建多个。这样的对象可以由特殊的设计方式获得，也可以由语言本身设计得到，比如object伴生对象</p>
</li>
<li><p>Scala语言是完全面向对象的语言，所以并没有静态的操作（即在Scala中没有静态的概念）。但是为了能够和Java语言交互（因为Java中有静态概念），就产生了一种特殊的对象来模拟类对象，该对象为单例对象。若单例对象名与类名一致，则称该单例对象这个类的伴生对象，这个类的所有“静态”内容都可以放置在它的伴生对象中声明，然后通过伴生对象名称直接调用</p>
</li>
<li><p>如果类名和伴生对象名称保持一致，那么这个类称之为伴生类。Scala编译器可以通过伴生对象的apply方法创建伴生类对象。apply方法可以重载，并传递参数，且可由Scala编译器自动识别。所以在使用时，其实是可以省略的。</p>
</li>
</ul>
 <figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123; <span class="comment">// 伴生类</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">User</span> </span>&#123; <span class="comment">// 伴生对象</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>() = <span class="keyword">new</span> <span class="type">User</span>() <span class="comment">// 构造伴生类对象</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"><span class="keyword">val</span> user1 = <span class="keyword">new</span> <span class="type">User</span>()<span class="comment">// 通过构造方法创建对象</span></span><br><span class="line"><span class="type">Val</span> user2 = <span class="type">User</span>.apply() <span class="comment">// 通过伴生对象的apply方法构造伴生类对象 </span></span><br><span class="line"><span class="keyword">val</span> user3 = <span class="type">User</span>() <span class="comment">// scala编译器省略apply方法，自动完成调用</span></span><br></pre></td></tr></table></figure>

<h4 id="7-2-5-特质"><a href="#7-2-5-特质" class="headerlink" title="7.2.5 特质"></a>7.2.5 特质</h4><p>将多个对象中的相同特征，从对象中剥离出来，形成一个独立的结构，称之为trait(特质)</p>
<p>如果一个对象符合这个特征，那么可以把这个特征加入到这个对象，这个加入的过程，称之为混入</p>
<p>如果一个类只有一个特征的时候，采用extends关键字进入混入，但是一个类有多个特征的时候，第一个特征使用extends，后面的采用with</p>
<p>如果一个类还有父类，那么父类使用extends，剩余的特征使用with关键字 </p>
<p><strong>基本语法</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">特质名称</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">类名</span> <span class="keyword">extends</span> <span class="title">父类（特质1）</span> <span class="keyword">with</span> <span class="title">特质2</span> <span class="keyword">with</span><span class="title">特质3</span></span></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Operator</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">DB</span></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySQL</span> <span class="keyword">extends</span> <span class="title">Operator</span> <span class="keyword">with</span> <span class="title">DB</span></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>动态混入</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaTrait</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> mysql = <span class="keyword">new</span> <span class="type">MySQL</span> <span class="keyword">with</span> <span class="type">Operator</span></span><br><span class="line">        mysql.insert()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Operator</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insert</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="string">&quot;insert data...&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySQL</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>为了解耦合</p>
<p><strong>初始化叠加</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaTrait</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> mysql = <span class="keyword">new</span> <span class="type">MySQL</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Operator</span> </span>&#123;</span><br><span class="line">    println(<span class="string">&quot;operator...&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">DB</span> </span>&#123;</span><br><span class="line">    println(<span class="string">&quot;db...&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySQL</span> <span class="keyword">extends</span> <span class="title">DB</span> <span class="keyword">with</span> <span class="title">Operator</span></span>&#123;</span><br><span class="line">    println(<span class="string">&quot;mysql...&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>功能叠加</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaTrait</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> mysql: <span class="type">MySQL</span> = <span class="keyword">new</span> <span class="type">MySQL</span></span><br><span class="line">        mysql.operData()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Operate</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">operData</span></span>():<span class="type">Unit</span>=&#123;</span><br><span class="line">        println(<span class="string">&quot;操作数据。。&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">DB</span> <span class="keyword">extends</span> <span class="title">Operate</span></span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">operData</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        print(<span class="string">&quot;向数据库中。。&quot;</span>)</span><br><span class="line">        <span class="keyword">super</span>.operData()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Log</span> <span class="keyword">extends</span> <span class="title">Operate</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">operData</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">super</span>.operData()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySQL</span> <span class="keyword">extends</span> <span class="title">DB</span> <span class="keyword">with</span> <span class="title">Log</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>MySQL类实现了两个特质，但这两个特质都重写了operData这个方法，那么MySQL对象调用这个方法会执行哪一个特质中的方法呢？</p>
<p>Scala采用了一种功能叠加的方式</p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662269247529.png" alt="1662269247529"></p>
<p>而且在Scala中的super并不是父特质的意思，是上一级的意思 </p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662269346887.png" alt="1662269346887"></p>
<p>可以通过上述这种跳过的方式，防止功能叠加 </p>
<h4 id="7-2-6-扩展"><a href="#7-2-6-扩展" class="headerlink" title="7.2.6 扩展"></a>7.2.6 扩展</h4><p>字符串：不可变</p>
<p>这个不可变指的是字符串的char数组的内存地址不可变，并不是指的其中的内容不可变，下图展示了如何改变一个字符串内部char数组的值的策略。需要通过反射机制来获取。</p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662269704341.png" alt="1662269704341"></p>
<p> <strong>枚举类</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 枚举类</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Color</span> <span class="keyword">extends</span> <span class="title">Enumeration</span> </span>&#123;</span><br><span class="line">    <span class="keyword">val</span> <span class="type">RED</span> = <span class="type">Value</span>(<span class="number">1</span>, <span class="string">&quot;red&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> <span class="type">YELLOW</span> = <span class="type">Value</span>(<span class="number">2</span>, <span class="string">&quot;yellow&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> <span class="type">BLUE</span> = <span class="type">Value</span>(<span class="number">3</span>, <span class="string">&quot;blue&quot;</span>)</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<p><strong>应用类</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 应用类</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">AppTest</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    println(<span class="string">&quot;application&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Type定义新类型</strong></p>
<p>使用type关键字可以定义新的数据数据类型名称，本质上就是类型的一个别名</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="class"><span class="keyword">type</span> <span class="title">S</span> </span>= <span class="type">String</span></span><br><span class="line">        <span class="keyword">var</span> v : <span class="type">S</span> = <span class="string">&quot;abc&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="8-集合"><a href="#8-集合" class="headerlink" title="8.集合"></a>8.集合</h2><h3 id="8-1-简介"><a href="#8-1-简介" class="headerlink" title="8.1 简介"></a>8.1 简介</h3><p>​	Scala的集合有三大类：序列Seq、集Set、映射Map，所有的集合都扩展自Iterable特质。对于几乎所有的集合类，Scala都同时提供了可变和不可变的版本。</p>
<p>​	可变集合可以在适当的地方被更新或扩展。这意味着你可以修改，添加，移除一个集合的元素。而不可变集合类，相比之下，永远不会改变。不过，你仍然可以模拟添加，移除或更新操作。但是这些操作将在每一种情况下都返回一个新的集合，同时使原来的集合不发生改变，所以这里的不可变并不是变量本身的值不可变，而是变量指向的那个内存地址不可变</p>
<p>​	可变集合和不可变集合，在scala中该如何进行区分呢？我们一般可以根据集合所在包名进行区分:</p>
<p>scala.collection.immutable（不可变的）</p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662276540357.png" alt="1662276540357"></p>
<p>scala.collection.mutable（可变的）</p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662276750168.png" alt="1662276750168"></p>
<h3 id="8-2-数组"><a href="#8-2-数组" class="headerlink" title="8.2 数组"></a>8.2 数组</h3><p>​	数组在严格意义上并不是集合，在Scala中给数组一个特定的类型：Array</p>
<p><strong>Array数组的构建、访问、遍历方法</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.scala.chapter07</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Scala01_Collection</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO - 集合 - 数组</span></span><br><span class="line">        <span class="comment">// 数组 ：严格意义上，数组不是集合</span></span><br><span class="line">        <span class="comment">//      scala中给数组一个特定的类型：Array</span></span><br><span class="line">        <span class="comment">// TODO 构建</span></span><br><span class="line">        <span class="comment">// String[]</span></span><br><span class="line">        <span class="comment">// 构建Scala中的数组，其实等同于构造Java的数组</span></span><br><span class="line">        <span class="keyword">val</span> array = <span class="keyword">new</span> <span class="type">Array</span>[<span class="type">String</span>](<span class="number">3</span>)</span><br><span class="line">        println(array)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 访问</span></span><br><span class="line">        <span class="comment">// 可以根据索引访问数组的元素</span></span><br><span class="line">        <span class="comment">//array.update(1, &quot;abc&quot;)</span></span><br><span class="line">        <span class="comment">// 中括号在scala中表示泛型，所以不能在索引操作中使用，使用小括号</span></span><br><span class="line">        array(<span class="number">1</span>) = <span class="string">&quot;abc&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 遍历</span></span><br><span class="line">        <span class="keyword">for</span> ( i &lt;- array ) &#123;</span><br><span class="line">            println(i)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Array其它构建方法、遍历方法、访问方法</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.scala.chapter07</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Scala01_Collection_1</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO - 集合 - 数组</span></span><br><span class="line">        <span class="comment">// 集合分为两大类：可变集合，不可变集合</span></span><br><span class="line">        <span class="comment">// Scala默认提供的集合都是不可变。</span></span><br><span class="line"><span class="comment">//        val array = new Array[String](3)</span></span><br><span class="line"><span class="comment">//        array(0) = &quot;a&quot;</span></span><br><span class="line"><span class="comment">//        array(1) = &quot;a&quot;</span></span><br><span class="line"><span class="comment">//        array(2) = &quot;a&quot;</span></span><br><span class="line">        <span class="comment">// 使用集合的伴生对象构建集合，并同时初始化</span></span><br><span class="line">        <span class="keyword">val</span> array1 = <span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">        <span class="keyword">val</span> array2 = <span class="type">Array</span>(<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>)</span><br><span class="line">        <span class="comment">//val array2 = Array.apply(1,2,3,4)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 访问</span></span><br><span class="line">        <span class="comment">//val ints: Array[Int] = array1.+:(5)</span></span><br><span class="line">        <span class="comment">// scala中如果运算符是以冒号结尾，那么运算规则为从后向前计算</span></span><br><span class="line">        <span class="keyword">val</span> ints = <span class="number">5</span> +: array1</span><br><span class="line"></span><br><span class="line">        <span class="comment">//val ints1: Array[Int] = array1.:+(5)</span></span><br><span class="line">        <span class="keyword">val</span> ints1 = array1 :+ <span class="number">5</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> ints2 = array1 ++ array2</span><br><span class="line">        <span class="keyword">val</span> ints3 = array1 ++: array2</span><br><span class="line"></span><br><span class="line">        <span class="comment">//println(array1 eq ints)</span></span><br><span class="line">        <span class="comment">//println(array1 eq ints1)</span></span><br><span class="line">       <span class="comment">// println(ints eq ints1)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO 遍历</span></span><br><span class="line">        <span class="comment">//println(ints.mkString(&quot;,&quot;))</span></span><br><span class="line">        <span class="comment">//println(ints1.mkString(&quot;,&quot;))</span></span><br><span class="line">        <span class="comment">//println(ints2.mkString(&quot;,&quot;))</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// foreach方法是一个循环的方法，需要传递一个参数，这个从参数的类型是函数类型</span></span><br><span class="line">        <span class="comment">//  函数类型 ： Int =&gt; U</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">foreachFunction</span></span>(num:<span class="type">Int</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">            println(num)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//array1.foreach(foreachFunction)</span></span><br><span class="line">        <span class="comment">//array1.foreach((num:Int)=&gt;&#123;println(num)&#125;)</span></span><br><span class="line">        <span class="comment">//array1.foreach((num:Int)=&gt;println(num))</span></span><br><span class="line">        <span class="comment">//array1.foreach((num)=&gt;println(num))</span></span><br><span class="line">        <span class="comment">//array1.foreach(num=&gt;println(num))</span></span><br><span class="line">        array1.foreach(println(_))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.scala.chapter07</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Scala01_Collection_2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO - 集合 - 数组</span></span><br><span class="line">        <span class="comment">// 多维数组</span></span><br><span class="line">        <span class="keyword">var</span> myMatrix = <span class="type">Array</span>.ofDim[<span class="type">Int</span>](<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line">        <span class="comment">//myMatrix.foreach(list=&gt;println(list.mkString(&quot;,&quot;)))</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> arr1 = <span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">        <span class="keyword">val</span> arr2 = <span class="type">Array</span>(<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>)</span><br><span class="line">        <span class="comment">// 合并数组</span></span><br><span class="line">        <span class="keyword">val</span> arr6: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>.concat(arr1, arr2)</span><br><span class="line">        <span class="comment">//arr6.foreach(println)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建指定范围的数组</span></span><br><span class="line">        <span class="keyword">val</span> arr7: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>.range(<span class="number">0</span>,<span class="number">2</span>)</span><br><span class="line">        <span class="comment">//arr7.foreach(println)</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> arr8:<span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>.fill[<span class="type">Int</span>](<span class="number">5</span>)(<span class="number">-1</span>)</span><br><span class="line">        arr8.foreach(println)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="8-2-1-不可变数组"><a href="#8-2-1-不可变数组" class="headerlink" title="8.2.1 不可变数组"></a>8.2.1 不可变数组</h4><p><strong>基本语法</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaCollection</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">//（1）数组定义</span></span><br><span class="line">        <span class="keyword">val</span> arr01 = <span class="keyword">new</span> <span class="type">Array</span>[<span class="type">Int</span>](<span class="number">4</span>)</span><br><span class="line">        println(arr01.length) <span class="comment">// 4</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//（2）数组赋值</span></span><br><span class="line">        <span class="comment">//（2.1）修改某个元素的值</span></span><br><span class="line">        arr01(<span class="number">3</span>) = <span class="number">10</span></span><br><span class="line">        <span class="keyword">val</span> i = <span class="number">10</span></span><br><span class="line">        arr01(i/<span class="number">3</span>) = <span class="number">20</span></span><br><span class="line">        <span class="comment">//（2.2）采用方法的形式修改数组的值</span></span><br><span class="line">        arr01.update(<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//（3）遍历数组</span></span><br><span class="line">        <span class="comment">//（3.1）查看数组</span></span><br><span class="line">        println(arr01.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"></span><br><span class="line">        <span class="comment">//（3.2）普通遍历</span></span><br><span class="line">        <span class="keyword">for</span> (i &lt;- arr01) &#123;</span><br><span class="line">            println(i)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//（3.3）简化遍历</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">printx</span></span>(elem:<span class="type">Int</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">            println(elem)</span><br><span class="line">        &#125;</span><br><span class="line">        arr01.foreach(printx)</span><br><span class="line">        arr01.foreach((x)=&gt;&#123;println(x)&#125;)</span><br><span class="line">        arr01.foreach(println(_))</span><br><span class="line">        arr01.foreach(println)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>基本操作</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaCollection</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">// 创建数组的另外一种方式</span></span><br><span class="line">        <span class="keyword">val</span> arr1 = <span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">        <span class="keyword">val</span> arr2 = <span class="type">Array</span>(<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>)</span><br><span class="line">        <span class="comment">// 添加数组元素，创建新数组</span></span><br><span class="line">        <span class="keyword">val</span> arr3: <span class="type">Array</span>[<span class="type">Int</span>] = arr1 :+ <span class="number">5</span></span><br><span class="line">        println( arr1 eq arr3 ) <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> arr4: <span class="type">Array</span>[<span class="type">Int</span>] = arr1 ++: arr2</span><br><span class="line">        <span class="comment">// 添加集合</span></span><br><span class="line">        <span class="keyword">val</span> arr5: <span class="type">Array</span>[<span class="type">Int</span>] = arr1 ++ arr2</span><br><span class="line"></span><br><span class="line">        arr4.foreach(println)</span><br><span class="line">        println(<span class="string">&quot;****************&quot;</span>)</span><br><span class="line">        arr5.foreach(println)</span><br><span class="line">        println(<span class="string">&quot;****************&quot;</span>)</span><br><span class="line">        <span class="comment">// 多维数组</span></span><br><span class="line">        <span class="keyword">var</span> myMatrix = <span class="type">Array</span>.ofDim[<span class="type">Int</span>](<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line">        myMatrix.foreach(list=&gt;list.foreach(println))</span><br><span class="line">        <span class="comment">// 合并数组</span></span><br><span class="line">        <span class="keyword">val</span> arr6: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>.concat(arr1, arr2)</span><br><span class="line">        arr6.foreach(println)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建指定范围的数组</span></span><br><span class="line">        <span class="keyword">val</span> arr7: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>.range(<span class="number">0</span>,<span class="number">2</span>)</span><br><span class="line">        arr7.foreach(println)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建并填充指定数量的数组</span></span><br><span class="line">        <span class="keyword">val</span> arr8:<span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>.fill[<span class="type">Int</span>](<span class="number">5</span>)(<span class="number">-1</span>)</span><br><span class="line">        arr8.foreach(println)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="8-2-2-可变数组"><a href="#8-2-2-可变数组" class="headerlink" title="8.2.2 可变数组"></a>8.2.2 可变数组</h4><p><strong>基本语法</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaCollection</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> buffer = <span class="keyword">new</span> <span class="type">ArrayBuffer</span>[<span class="type">Int</span>]</span><br><span class="line">        <span class="comment">// 增加数据</span></span><br><span class="line">        buffer.append(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">        <span class="comment">// 修改数据</span></span><br><span class="line">        buffer.update(<span class="number">0</span>,<span class="number">5</span>)</span><br><span class="line">        buffer(<span class="number">1</span>) = <span class="number">6</span></span><br><span class="line">        <span class="comment">// 删除数据</span></span><br><span class="line">        <span class="keyword">val</span> i: <span class="type">Int</span> = buffer.remove(<span class="number">2</span>)</span><br><span class="line">        buffer.remove(<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line">        <span class="comment">// 查询数据</span></span><br><span class="line">        println(buffer(<span class="number">3</span>))</span><br><span class="line">        <span class="comment">// 循环集合</span></span><br><span class="line">        <span class="keyword">for</span> ( i &lt;- buffer ) &#123;</span><br><span class="line">            println(i)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>基本操作</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaCollection</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> buffer1 = <span class="type">ArrayBuffer</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">        <span class="keyword">val</span> buffer2 = <span class="type">ArrayBuffer</span>(<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> buffer3: <span class="type">ArrayBuffer</span>[<span class="type">Int</span>] = buffer1 += <span class="number">5</span></span><br><span class="line">        println( buffer1 eq buffer3 ) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用 ++ 运算符会产生新的集合数组</span></span><br><span class="line">        <span class="keyword">val</span> buffer4: <span class="type">ArrayBuffer</span>[<span class="type">Int</span>] = buffer1 ++ buffer2</span><br><span class="line">        <span class="comment">// 使用 ++= 运算符会更新之前的集合，不会产生新的数组</span></span><br><span class="line">        <span class="keyword">val</span> buffer5: <span class="type">ArrayBuffer</span>[<span class="type">Int</span>] = buffer1 ++= buffer2</span><br><span class="line">        println( buffer1 eq buffer4 ) <span class="comment">// false</span></span><br><span class="line">        println( buffer1 eq buffer5 ) <span class="comment">// true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="8-2-3-不可变数组和可变数组的转换"><a href="#8-2-3-不可变数组和可变数组的转换" class="headerlink" title="8.2.3 不可变数组和可变数组的转换"></a>8.2.3 不可变数组和可变数组的转换</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.mutable</span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaCollection</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> buffer = <span class="type">ArrayBuffer</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">        <span class="keyword">val</span> array = <span class="type">Array</span>(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 将不可变数组转换为可变数组</span></span><br><span class="line">        <span class="keyword">val</span> buffer1: mutable.<span class="type">Buffer</span>[<span class="type">Int</span>] = array.toBuffer</span><br><span class="line">        <span class="comment">// 将可变数组转换为不可变数组</span></span><br><span class="line">        <span class="keyword">val</span> array1: <span class="type">Array</span>[<span class="type">Int</span>] = buffer.toArray</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="8-2-4-常用方法"><a href="#8-2-4-常用方法" class="headerlink" title="8.2.4 常用方法"></a>8.2.4 常用方法</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.scala.chapter07</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util</span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable</span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Scala03_Collection</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO - 集合 - 方法</span></span><br><span class="line">        <span class="keyword">val</span> array = <span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">        println(array.size)</span><br><span class="line">        println(array.length)</span><br><span class="line">        println(array.isEmpty)</span><br><span class="line">        println(array.contains(<span class="number">2</span>))</span><br><span class="line">        println(array.distinct.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">        println(array.reverse.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"></span><br><span class="line">        println(array.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">        array.foreach(println)</span><br><span class="line">        array.iterator</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.scala.chapter07</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Scala03_Collection_1</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO - 集合 - 方法</span></span><br><span class="line">        <span class="keyword">val</span> array = <span class="type">ArrayBuffer</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 从集合中获取部分数据</span></span><br><span class="line">        println(array.head)</span><br><span class="line">        println(array.tail)</span><br><span class="line">        println(array.tails)</span><br><span class="line">        println(array.last)</span><br><span class="line">        println(array.init) <span class="comment">// 初始</span></span><br><span class="line">        println(array.inits)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 取前几个</span></span><br><span class="line">        println(array.take(<span class="number">3</span>))</span><br><span class="line">        <span class="comment">//println(array.reverse.take(2).reverse)</span></span><br><span class="line">        println(array.takeRight(<span class="number">2</span>))</span><br><span class="line">        println(array.drop(<span class="number">1</span>))</span><br><span class="line">        println(array.dropRight(<span class="number">1</span>))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-3-常用方法"><a href="#8-3-常用方法" class="headerlink" title="8.3 常用方法"></a>8.3 常用方法</h3><h4 id="8-3-1-reduce-amp-reduceLeft-amp-reduceRight"><a href="#8-3-1-reduce-amp-reduceLeft-amp-reduceRight" class="headerlink" title="8.3.1 reduce &amp; reduceLeft  &amp; reduceRight"></a>8.3.1 reduce &amp; reduceLeft  &amp; reduceRight</h4><p><strong>reduce的内部其实就是reduceLeft</strong></p>
<p><strong>reduceRight的底层其实也是reduceLeft，只不过先把数组翻转，然后开始从左往右计算，不过把x,y参数颠倒，详细请见下面的代码</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.scala.chapter07</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Scala03_Collection_2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO - 集合 - 方法</span></span><br><span class="line">        <span class="keyword">val</span> array = <span class="type">ArrayBuffer</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">        println(array.sum)</span><br><span class="line">        println(array.max)</span><br><span class="line">        println(array.min)</span><br><span class="line">        println(array.product)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 自定义数据操作的方法</span></span><br><span class="line">        <span class="comment">// 集合的数据无论是多少，最基本的数据操作其实都是两两计算。</span></span><br><span class="line">        <span class="comment">// map =&gt; reduce =&gt; 简化，规约（聚合）</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">reduceFunction</span></span>(x : <span class="type">Int</span>, y : <span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">            x + y</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//println(array.reduce(reduceFunction))</span></span><br><span class="line">        <span class="comment">//println(array.reduce((x:Int, y:Int)=&gt;&#123;x + y&#125;))</span></span><br><span class="line">        <span class="comment">//println(array.reduce((x:Int, y:Int)=&gt;x + y))</span></span><br><span class="line">        <span class="comment">//println(array.reduce((x, y)=&gt;x + y))</span></span><br><span class="line">        println(array.reduce(_ - _))  <span class="comment">// -13</span></span><br><span class="line">        println(array.reduceLeft(_ - _)) <span class="comment">// -13</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 【1，2，3，4】</span></span><br><span class="line">        <span class="comment">//  (((1 + 2) + 3) + 4)</span></span><br><span class="line">        <span class="comment">// reversed.reduceLeft[B]((x, y) =&gt; op(y, x))</span></span><br><span class="line">        <span class="comment">// 【1，2，3，4, 5】</span></span><br><span class="line">        <span class="comment">// 【5，4，3，2，1】</span></span><br><span class="line">        <span class="comment">//  1 - (2 - (3 - (4 - 5)))</span></span><br><span class="line">        <span class="comment">// 【1，2，3，4】</span></span><br><span class="line">        <span class="comment">// (1 - (2 - (3 - 4)))</span></span><br><span class="line">        println(array.reduceRight(_ - _)) <span class="comment">// 3</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="8-3-2-fold-amp-scan"><a href="#8-3-2-fold-amp-scan" class="headerlink" title="8.3.2 fold &amp; scan"></a>8.3.2 fold &amp; scan</h4><p><strong>fold的作用是把集合外的数据和集合内的数据一块做操作</strong></p>
<p><strong>scan的作用是两两计算的临时结果的保存</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.scala.chapter07</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Scala03_Collection_3</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO - 集合 - 方法</span></span><br><span class="line">        <span class="keyword">val</span> array = <span class="type">ArrayBuffer</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">        <span class="keyword">val</span> num = <span class="number">5</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 折叠</span></span><br><span class="line">        <span class="comment">//println(array.fold(5)(_ - _))</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// (((5 - 1) - 2) - 3) - 4</span></span><br><span class="line">        <span class="comment">//println(array.foldLeft(5)(_ - _))</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// reversed.foldLeft(z)((x, y) =&gt; op(y, x))</span></span><br><span class="line">        <span class="comment">// 【1，2，3，4】</span></span><br><span class="line">        <span class="comment">// 【4，3，2，1】</span></span><br><span class="line">        <span class="comment">//  1 - (2  - (3 - (4 - 5)))</span></span><br><span class="line">        println(array.foldRight(<span class="number">5</span>)(_ - _))</span><br><span class="line"></span><br><span class="line">        <span class="comment">//println(array.scan(5)(_ - _))</span></span><br><span class="line">        println(array.scanRight(<span class="number">5</span>)(_-_))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="8-3-3-map"><a href="#8-3-3-map" class="headerlink" title="8.3.3 map"></a>8.3.3 map</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.scala.chapter07</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Scala04_Collection</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO - 集合 - 方法</span></span><br><span class="line">        <span class="keyword">val</span> array = <span class="type">ArrayBuffer</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO 功能函数：由集合对象提供函数执行自定义的功能</span></span><br><span class="line">        <span class="comment">//  1. map =&gt; 映射(转换) =&gt; K-&gt;V</span></span><br><span class="line">        <span class="comment">//     a =&gt; b</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// map方法需要传递一个参数，这个参数的类型为函数类型: Int =&gt; B</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">mapFunction</span></span>( num:<span class="type">Int</span> ): <span class="type">Int</span> = &#123;</span><br><span class="line">            num * <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//println(array.map(mapFunction))</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        println(array.map(</span></span><br><span class="line"><span class="comment">//            (num:Int) =&gt; &#123;</span></span><br><span class="line"><span class="comment">//                num * 2</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//        ))</span></span><br><span class="line"></span><br><span class="line">        println(array.map(_*<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="8-3-4-flatMap"><a href="#8-3-4-flatMap" class="headerlink" title="8.3.4 flatMap"></a>8.3.4 flatMap</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.scala.chapter07</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Scala04_Collection_1</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO - 集合 - 方法</span></span><br><span class="line"><span class="comment">//        val array = ArrayBuffer(</span></span><br><span class="line"><span class="comment">//            ArrayBuffer(</span></span><br><span class="line"><span class="comment">//                ArrayBuffer(1,2),ArrayBuffer(5,6)</span></span><br><span class="line"><span class="comment">//            ), ArrayBuffer(</span></span><br><span class="line"><span class="comment">//                ArrayBuffer(3,4),ArrayBuffer(7,8)</span></span><br><span class="line"><span class="comment">//            )</span></span><br><span class="line"><span class="comment">//        )</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//println(array.length)</span></span><br><span class="line">        <span class="comment">// 将整体拆分成个体的操作，称之为扁平化</span></span><br><span class="line">        <span class="comment">// 扁平化操作只能对最外层进行操作</span></span><br><span class="line">        <span class="comment">//println(array.flatten.flatten)</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> array = <span class="type">Array</span>(</span><br><span class="line">            <span class="string">&quot;Hello Scala&quot;</span>, <span class="string">&quot;Hello Hadoop&quot;</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        <span class="comment">//println(array.flatten.mkString(&quot;,&quot;))</span></span><br><span class="line"></span><br><span class="line">        println(array.flatMap(</span><br><span class="line">            str =&gt; &#123;</span><br><span class="line">                str.split(<span class="string">&quot; &quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        ).mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="8-3-5-filter"><a href="#8-3-5-filter" class="headerlink" title="8.3.5 filter"></a>8.3.5 filter</h4><p>filter函数对于每一条数据进行筛选操作</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.scala.chapter07</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Scala04_Collection_2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO - 集合 - 方法</span></span><br><span class="line">        <span class="keyword">val</span> array = <span class="type">ArrayBuffer</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// filter方法可以对集合中的每一条数据进行筛选过滤</span></span><br><span class="line">        <span class="comment">// 满足条件（true）的数据保留，不满足条件(false)的数据丢弃</span></span><br><span class="line">        <span class="keyword">val</span> r = array.filter(</span><br><span class="line">            num =&gt; &#123;</span><br><span class="line">                num % <span class="number">2</span> != <span class="number">0</span></span><br><span class="line">            &#125;</span><br><span class="line">        )</span><br><span class="line">        println(r)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="8-3-6-groupBy"><a href="#8-3-6-groupBy" class="headerlink" title="8.3.6 groupBy"></a>8.3.6 groupBy</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.scala.chapter07</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Scala04_Collection_3</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO - 集合 - 方法</span></span><br><span class="line"><span class="comment">//        val array = ArrayBuffer(1,2,3,4)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        // 根据指定的规则对每一条数据进行分组</span></span><br><span class="line"><span class="comment">//        val r = array.groupBy(</span></span><br><span class="line"><span class="comment">//            num =&gt; &#123;</span></span><br><span class="line"><span class="comment">////                if ( num % 2 == 0 ) &#123;</span></span><br><span class="line"><span class="comment">////                    &quot;偶数&quot;</span></span><br><span class="line"><span class="comment">////                &#125; else &#123;</span></span><br><span class="line"><span class="comment">////                    &quot;奇数&quot;</span></span><br><span class="line"><span class="comment">////                &#125;</span></span><br><span class="line"><span class="comment">//                num % 2</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//        )</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        println(r)</span></span><br><span class="line">        <span class="keyword">val</span> array = <span class="type">ArrayBuffer</span>(</span><br><span class="line">            <span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;Scala&quot;</span>, <span class="string">&quot;Hadoop&quot;</span>, <span class="string">&quot;Spark&quot;</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        println(array.groupBy(_.substring(<span class="number">0</span>, <span class="number">1</span>)))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="8-3-7-sortBy"><a href="#8-3-7-sortBy" class="headerlink" title="8.3.7 sortBy"></a>8.3.7 sortBy</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.scala.chapter07</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Scala04_Collection_4</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO - 集合 - 方法</span></span><br><span class="line">        <span class="comment">//val array = ArrayBuffer(1,4,2,3)</span></span><br><span class="line">        <span class="keyword">val</span> array = <span class="type">ArrayBuffer</span>(<span class="string">&quot;1&quot;</span>, <span class="string">&quot;11&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>, <span class="string">&quot;22&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 排序:通过指定的规则对每一条数据进行排序处理， 默认为升序</span></span><br><span class="line">        println(array.sortBy(</span><br><span class="line">            num =&gt; num.toInt</span><br><span class="line">        ))</span><br><span class="line">        println(array.sortBy(num =&gt; num.toInt)(<span class="type">Ordering</span>.<span class="type">Int</span>.reverse))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.scala.chapter07</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Scala13_Collection_Method_7</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> user1 = <span class="keyword">new</span> <span class="type">User</span>()</span><br><span class="line">        user1.age = <span class="number">20</span></span><br><span class="line">        user1.salary = <span class="number">2000</span></span><br><span class="line">        <span class="keyword">val</span> user2 = <span class="keyword">new</span> <span class="type">User</span>()</span><br><span class="line">        user2.age = <span class="number">30</span></span><br><span class="line">        user2.salary = <span class="number">2000</span></span><br><span class="line">        <span class="keyword">val</span> user3 = <span class="keyword">new</span> <span class="type">User</span>()</span><br><span class="line">        user3.age = <span class="number">30</span></span><br><span class="line">        user3.salary = <span class="number">1000</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> users = <span class="type">List</span>(</span><br><span class="line">            user1, user2, user3</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        <span class="comment">//println(users.sortBy(_.age)(Ordering.Int.reverse))</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Tuple : 元组,可以默认排序，先比较第一个，如果相同，比较第二个，依此类推</span></span><br><span class="line"><span class="comment">//        println(</span></span><br><span class="line"><span class="comment">//            users.sortBy(</span></span><br><span class="line"><span class="comment">//                user =&gt; &#123;</span></span><br><span class="line"><span class="comment">//                    ( user.age, user.salary )</span></span><br><span class="line"><span class="comment">//                &#125;</span></span><br><span class="line"><span class="comment">//            )(Ordering.Tuple2[Int, Int]( Ordering.Int, Ordering.Int.reverse ))</span></span><br><span class="line"><span class="comment">//        )</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 自定义排序</span></span><br><span class="line">        println(users.sortWith(</span><br><span class="line">            (user1, user2) =&gt; &#123;</span><br><span class="line">                <span class="comment">// 将你期望的结果，返回为true</span></span><br><span class="line">                <span class="comment">//user1.salary &gt; user2.salary</span></span><br><span class="line">                <span class="keyword">if</span> ( user1.age &lt; user2.age ) &#123;</span><br><span class="line">                    <span class="literal">true</span></span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (user1.age == user2.age ) &#123;</span><br><span class="line">                    user1.salary &lt; user2.salary</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="literal">false</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> age : <span class="type">Int</span> = _</span><br><span class="line">        <span class="keyword">var</span> salary : <span class="type">Int</span> = _</span><br><span class="line"></span><br><span class="line">        <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">toString</span></span>: <span class="type">String</span> = &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">s&quot;User[<span class="subst">$&#123;age&#125;</span>, <span class="subst">$&#123;salary&#125;</span>]&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="8-3-8-sliding"><a href="#8-3-8-sliding" class="headerlink" title="8.3.8 sliding"></a>8.3.8 sliding</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.scala.chapter07</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Scala13_Collection_Method_2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> list1 = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>)</span><br><span class="line">        <span class="comment">//println(list1.drop(1))</span></span><br><span class="line">        <span class="comment">//list1.head + list1.tail.head</span></span><br><span class="line">        <span class="comment">// 滑动窗口</span></span><br><span class="line">        <span class="comment">// 滚动窗口</span></span><br><span class="line">        <span class="keyword">val</span> iterator: <span class="type">Iterator</span>[<span class="type">List</span>[<span class="type">Int</span>]] = list1.sliding(<span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext) &#123;</span><br><span class="line">            <span class="keyword">val</span> ints: <span class="type">List</span>[<span class="type">Int</span>] = iterator.next()</span><br><span class="line">            println(ints)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="8-4-Seq集合"><a href="#8-4-Seq集合" class="headerlink" title="8.4 Seq集合"></a>8.4 Seq集合</h3><h4 id="8-4-1-不可变List"><a href="#8-4-1-不可变List" class="headerlink" title="8.4.1 不可变List"></a>8.4.1 不可变List</h4><p><strong>基本语法</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaCollection</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Seq集合</span></span><br><span class="line">        <span class="keyword">val</span> list = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 增加数据</span></span><br><span class="line">        <span class="keyword">val</span> list1: <span class="type">List</span>[<span class="type">Int</span>] = list :+ <span class="number">1</span></span><br><span class="line">        println(list1 eq list)</span><br><span class="line">        list1.foreach(println)</span><br><span class="line">        <span class="keyword">val</span> list2: <span class="type">List</span>[<span class="type">Int</span>] = <span class="number">1</span> +: list</span><br><span class="line">        list2.foreach(println)</span><br><span class="line">        println(<span class="string">&quot;*****************&quot;</span>)</span><br><span class="line">        <span class="keyword">val</span> list3: <span class="type">List</span>[<span class="type">Int</span>] = list.updated(<span class="number">1</span>,<span class="number">5</span>)</span><br><span class="line">        println(list eq list3)</span><br><span class="line">        <span class="type">List3</span>.foreach(println)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>基本操作</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaCollection</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Seq集合</span></span><br><span class="line">        <span class="keyword">val</span> list1 = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">        <span class="comment">// 空集合</span></span><br><span class="line">        <span class="keyword">val</span> list2: <span class="type">List</span>[<span class="type">Nothing</span>] = <span class="type">List</span>()</span><br><span class="line">        <span class="keyword">val</span> nil  = <span class="type">Nil</span></span><br><span class="line">        println(list2 eq nil)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建集合</span></span><br><span class="line">        <span class="keyword">val</span> list3: <span class="type">List</span>[<span class="type">Int</span>]  = <span class="number">1</span>::<span class="number">2</span>::<span class="number">3</span>::<span class="type">Nil</span></span><br><span class="line">        <span class="keyword">val</span> list4: <span class="type">List</span>[<span class="type">Int</span>] = list1 ::: <span class="type">Nil</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 连接集合</span></span><br><span class="line">        <span class="keyword">val</span> list5: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>.concat(list3, list4)</span><br><span class="line">        list5.foreach(println)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建一个指定重复数量的元素列表</span></span><br><span class="line">        <span class="keyword">val</span> list6: <span class="type">List</span>[<span class="type">String</span>] = <span class="type">List</span>.fill[<span class="type">String</span>](<span class="number">3</span>)(<span class="string">&quot;a&quot;</span>)</span><br><span class="line">        list6.foreach(println)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="8-4-2-可变List"><a href="#8-4-2-可变List" class="headerlink" title="8.4.2 可变List"></a>8.4.2 可变List</h4><p><strong>基本语法</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ListBuffer</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaCollection</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">// 可变集合</span></span><br><span class="line">        <span class="keyword">val</span> buffer = <span class="keyword">new</span> <span class="type">ListBuffer</span>[<span class="type">Int</span>]()</span><br><span class="line">        <span class="comment">// 增加数据</span></span><br><span class="line">        buffer.append(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">        <span class="comment">// 修改数据</span></span><br><span class="line">        buffer.update(<span class="number">1</span>,<span class="number">3</span>)</span><br><span class="line">        <span class="comment">// 删除数据</span></span><br><span class="line">        buffer.remove(<span class="number">2</span>)</span><br><span class="line">        buffer.remove(<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line">        <span class="comment">// 获取数据</span></span><br><span class="line">        println(buffer(<span class="number">1</span>))</span><br><span class="line">        <span class="comment">// 遍历集合</span></span><br><span class="line">        buffer.foreach(println)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>基本操作</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ListBuffer</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaCollection</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 可变集合</span></span><br><span class="line">        <span class="keyword">val</span> buffer1 = <span class="type">ListBuffer</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">        <span class="keyword">val</span> buffer2 = <span class="type">ListBuffer</span>(<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 增加数据</span></span><br><span class="line">        <span class="keyword">val</span> buffer3: <span class="type">ListBuffer</span>[<span class="type">Int</span>] = buffer1 :+ <span class="number">5</span></span><br><span class="line">        <span class="keyword">val</span> buffer4: <span class="type">ListBuffer</span>[<span class="type">Int</span>] = buffer1 += <span class="number">5</span></span><br><span class="line">        <span class="keyword">val</span> buffer5: <span class="type">ListBuffer</span>[<span class="type">Int</span>] = buffer1 ++ buffer2</span><br><span class="line">        <span class="keyword">val</span> buffer6: <span class="type">ListBuffer</span>[<span class="type">Int</span>] = buffer1 ++= buffer2</span><br><span class="line"></span><br><span class="line">        println( buffer5 eq buffer1 )</span><br><span class="line">        println( buffer6 eq buffer1 )</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> buffer7: <span class="type">ListBuffer</span>[<span class="type">Int</span>] = buffer1 - <span class="number">2</span></span><br><span class="line">        <span class="keyword">val</span> buffer8: <span class="type">ListBuffer</span>[<span class="type">Int</span>] = buffer1 -= <span class="number">2</span></span><br><span class="line">        println( buffer7 eq buffer1 )</span><br><span class="line">        println( buffer8 eq buffer1 )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="8-4-3-可变集合和不可变集合的转变"><a href="#8-4-3-可变集合和不可变集合的转变" class="headerlink" title="8.4.3 可变集合和不可变集合的转变"></a>8.4.3 可变集合和不可变集合的转变</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.mutable</span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ListBuffer</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaCollection</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> buffer = <span class="type">ListBuffer</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">        <span class="keyword">val</span> list = <span class="type">List</span>(<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>)</span><br><span class="line"> </span><br><span class="line">        <span class="comment">// 可变集合转变为不可变集合</span></span><br><span class="line">        <span class="keyword">val</span> list1: <span class="type">List</span>[<span class="type">Int</span>] = buffer.toList</span><br><span class="line">        <span class="comment">// 不可变集合转变为可变集合</span></span><br><span class="line">        <span class="keyword">val</span> buffer1: mutable.<span class="type">Buffer</span>[<span class="type">Int</span>] = list.toBuffer</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-5-Set集合"><a href="#8-5-Set集合" class="headerlink" title="8.5 Set集合"></a>8.5 Set集合</h3><h4 id="8-5-1-不可变Set"><a href="#8-5-1-不可变Set" class="headerlink" title="8.5.1 不可变Set"></a>8.5.1 不可变Set</h4><p><strong>基本语法</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaCollection</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> set1 = <span class="type">Set</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">        <span class="keyword">val</span> set2 = <span class="type">Set</span>(<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 增加数据</span></span><br><span class="line">        <span class="keyword">val</span> set3: <span class="type">Set</span>[<span class="type">Int</span>] = set1 + <span class="number">5</span> + <span class="number">6</span></span><br><span class="line">        <span class="keyword">val</span> set4: <span class="type">Set</span>[<span class="type">Int</span>] = set1.+(<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>)</span><br><span class="line">        println( set1 eq set3 ) <span class="comment">// false</span></span><br><span class="line">        println( set1 eq set4 ) <span class="comment">// false</span></span><br><span class="line">        set4.foreach(println)</span><br><span class="line">        <span class="comment">// 删除数据</span></span><br><span class="line">        <span class="keyword">val</span> set5: <span class="type">Set</span>[<span class="type">Int</span>] = set1 - <span class="number">2</span> - <span class="number">3</span></span><br><span class="line">        set5.foreach(println)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> set6: <span class="type">Set</span>[<span class="type">Int</span>] = set1 ++ set2</span><br><span class="line">        set6.foreach(println)</span><br><span class="line">        println(<span class="string">&quot;********&quot;</span>)</span><br><span class="line">        <span class="keyword">val</span> set7: <span class="type">Set</span>[<span class="type">Int</span>] = set2 ++: set1</span><br><span class="line">        set7.foreach(println)</span><br><span class="line">        println(set6 eq set7)</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<p><strong>基本操作</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaCollection</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> set1 = <span class="type">Set</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">        <span class="keyword">val</span> set2 = <span class="type">Set</span>(<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 增加数据</span></span><br><span class="line">        <span class="keyword">val</span> set3: <span class="type">Set</span>[<span class="type">Int</span>] = set1 + <span class="number">5</span> + <span class="number">6</span></span><br><span class="line">        <span class="keyword">val</span> set4: <span class="type">Set</span>[<span class="type">Int</span>] = set1.+(<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>)</span><br><span class="line">        println( set1 eq set3 ) <span class="comment">// false</span></span><br><span class="line">        println( set1 eq set4 ) <span class="comment">// false</span></span><br><span class="line">        set4.foreach(println)</span><br><span class="line">        <span class="comment">// 删除数据</span></span><br><span class="line">        <span class="keyword">val</span> set5: <span class="type">Set</span>[<span class="type">Int</span>] = set1 - <span class="number">2</span> - <span class="number">3</span></span><br><span class="line">        set5.foreach(println)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> set6: <span class="type">Set</span>[<span class="type">Int</span>] = set1 ++ set2</span><br><span class="line">        set6.foreach(println)</span><br><span class="line">        println(<span class="string">&quot;********&quot;</span>)</span><br><span class="line">        <span class="keyword">val</span> set7: <span class="type">Set</span>[<span class="type">Int</span>] = set2 ++: set1</span><br><span class="line">        set7.foreach(println)</span><br><span class="line">        println(set6 eq set7)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="8-5-2-可变set"><a href="#8-5-2-可变set" class="headerlink" title="8.5.2 可变set"></a>8.5.2 可变set</h4><p><strong>基本语法</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.mutable</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaCollection</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> set1 = mutable.<span class="type">Set</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">        <span class="keyword">val</span> set2 = mutable.<span class="type">Set</span>(<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 增加数据</span></span><br><span class="line">        set1.add(<span class="number">5</span>)</span><br><span class="line">        <span class="comment">// 添加数据</span></span><br><span class="line">        set1.update(<span class="number">6</span>,<span class="literal">true</span>)</span><br><span class="line">        println(set1.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">        <span class="comment">// 删除数据</span></span><br><span class="line">        set1.update(<span class="number">3</span>,<span class="literal">false</span>)</span><br><span class="line">        println(set1.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 删除数据</span></span><br><span class="line">        set1.remove(<span class="number">2</span>)</span><br><span class="line">        println(set1.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 遍历数据</span></span><br><span class="line">        set1.foreach(println)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>基本操作</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.mutable</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaCollection</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> set1 = mutable.<span class="type">Set</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">        <span class="keyword">val</span> set2 = mutable.<span class="type">Set</span>(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 交集</span></span><br><span class="line">        <span class="keyword">val</span> set3: mutable.<span class="type">Set</span>[<span class="type">Int</span>] = set1 &amp; set2</span><br><span class="line">        println(set3.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">        <span class="comment">// 差集</span></span><br><span class="line">        <span class="keyword">val</span> set4: mutable.<span class="type">Set</span>[<span class="type">Int</span>] = set1 &amp;~ set2</span><br><span class="line">        println(set4.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-6-Map集合"><a href="#8-6-Map集合" class="headerlink" title="8.6 Map集合"></a>8.6 Map集合</h3><p>​	Map(映射)是一种可迭代的键值对（key&#x2F;value）结构。所有的值都可以通过键来获取。Map 中的键都是唯一的。</p>
<h4 id="8-6-1-不可变map"><a href="#8-6-1-不可变map" class="headerlink" title="8.6.1 不可变map"></a>8.6.1 不可变map</h4><p><strong>基本语法</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaCollection</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> map1 = <span class="type">Map</span>( <span class="string">&quot;a&quot;</span> -&gt; <span class="number">1</span>, <span class="string">&quot;b&quot;</span> -&gt; <span class="number">2</span>, <span class="string">&quot;c&quot;</span> -&gt; <span class="number">3</span> )</span><br><span class="line">        <span class="keyword">val</span> map2 = <span class="type">Map</span>( <span class="string">&quot;d&quot;</span> -&gt; <span class="number">4</span>, <span class="string">&quot;e&quot;</span> -&gt; <span class="number">5</span>, <span class="string">&quot;f&quot;</span> -&gt; <span class="number">6</span> )</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 添加数据</span></span><br><span class="line">        <span class="keyword">val</span> map3 = map1 + (<span class="string">&quot;d&quot;</span> -&gt; <span class="number">4</span>)</span><br><span class="line">        println(map1 eq map3) <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 删除数据</span></span><br><span class="line">        <span class="keyword">val</span> map4 = map3 - <span class="string">&quot;d&quot;</span></span><br><span class="line">        println(map4.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> map5: <span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] = map1 ++ map2</span><br><span class="line">        println(map5 eq map1)</span><br><span class="line">        println(map5.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> map6: <span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] = map1 ++: map2</span><br><span class="line">        println(map6 eq map1)</span><br><span class="line">        println(map6.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 修改数据</span></span><br><span class="line">        <span class="keyword">val</span> map7: <span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] = map1.updated(<span class="string">&quot;b&quot;</span>, <span class="number">5</span>)</span><br><span class="line">        println(map7.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 遍历数据</span></span><br><span class="line">        map1.foreach(println)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>基本操作</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaCollection</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> map1 = <span class="type">Map</span>( <span class="string">&quot;a&quot;</span> -&gt; <span class="number">1</span>, <span class="string">&quot;b&quot;</span> -&gt; <span class="number">2</span>, <span class="string">&quot;c&quot;</span> -&gt; <span class="number">3</span> )</span><br><span class="line">        <span class="keyword">val</span> map2 = <span class="type">Map</span>( <span class="string">&quot;d&quot;</span> -&gt; <span class="number">4</span>, <span class="string">&quot;e&quot;</span> -&gt; <span class="number">5</span>, <span class="string">&quot;f&quot;</span> -&gt; <span class="number">6</span> )</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建空集合</span></span><br><span class="line">        <span class="keyword">val</span> empty: <span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] = <span class="type">Map</span>.empty</span><br><span class="line">        println(empty)</span><br><span class="line">        <span class="comment">// 获取指定key的值</span></span><br><span class="line">        <span class="keyword">val</span> i: <span class="type">Int</span> = map1.apply(<span class="string">&quot;c&quot;</span>)</span><br><span class="line">        println(i)</span><br><span class="line">        println(map1(<span class="string">&quot;c&quot;</span>))</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取可能存在的key值</span></span><br><span class="line">        <span class="keyword">val</span> maybeInt: <span class="type">Option</span>[<span class="type">Int</span>] = map1.get(<span class="string">&quot;c&quot;</span>)</span><br><span class="line">        <span class="comment">// 判断key值是否存在</span></span><br><span class="line">        <span class="keyword">if</span> ( !maybeInt.isEmpty ) &#123;</span><br><span class="line">            <span class="comment">// 获取值</span></span><br><span class="line">            println(maybeInt.get)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 如果不存在，获取默认值</span></span><br><span class="line">            println(maybeInt.getOrElse(<span class="number">0</span>))</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取可能存在的key值, 如果不存在就使用默认值</span></span><br><span class="line">        println(map1.getOrElse(<span class="string">&quot;c&quot;</span>, <span class="number">0</span>))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="8-6-2-可变map"><a href="#8-6-2-可变map" class="headerlink" title="8.6.2 可变map"></a>8.6.2 可变map</h4><p><strong>基本语法</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.mutable</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaCollection</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> map1 = mutable.<span class="type">Map</span>( <span class="string">&quot;a&quot;</span> -&gt; <span class="number">1</span>, <span class="string">&quot;b&quot;</span> -&gt; <span class="number">2</span>, <span class="string">&quot;c&quot;</span> -&gt; <span class="number">3</span> )</span><br><span class="line">        <span class="keyword">val</span> map2 = mutable.<span class="type">Map</span>( <span class="string">&quot;d&quot;</span> -&gt; <span class="number">4</span>, <span class="string">&quot;e&quot;</span> -&gt; <span class="number">5</span>, <span class="string">&quot;f&quot;</span> -&gt; <span class="number">6</span> )</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 添加数据</span></span><br><span class="line">        map1.put(<span class="string">&quot;d&quot;</span>, <span class="number">4</span>)</span><br><span class="line">        <span class="keyword">val</span> map3: mutable.<span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] = map1 + (<span class="string">&quot;e&quot;</span> -&gt; <span class="number">4</span>)</span><br><span class="line">        println(map1 eq map3)</span><br><span class="line">        <span class="keyword">val</span> map4: mutable.<span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] = map1 += (<span class="string">&quot;e&quot;</span> -&gt; <span class="number">5</span>)</span><br><span class="line">        println(map1 eq map4)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 修改数据</span></span><br><span class="line">        map1.update(<span class="string">&quot;e&quot;</span>,<span class="number">8</span>)</span><br><span class="line">        map1(<span class="string">&quot;e&quot;</span>) = <span class="number">8</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 删除数据</span></span><br><span class="line">        map1.remove(<span class="string">&quot;e&quot;</span>)</span><br><span class="line">        <span class="keyword">val</span> map5: mutable.<span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] = map1 - <span class="string">&quot;e&quot;</span></span><br><span class="line">        println(map1 eq map5)</span><br><span class="line">        <span class="keyword">val</span> map6: mutable.<span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] = map1 -= <span class="string">&quot;e&quot;</span></span><br><span class="line">        println(map1 eq map6)</span><br><span class="line">        <span class="comment">// 清除集合</span></span><br><span class="line">        map1.clear()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>基本操作</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.mutable</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaCollection</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> map1 = mutable.<span class="type">Map</span>( <span class="string">&quot;a&quot;</span> -&gt; <span class="number">1</span>, <span class="string">&quot;b&quot;</span> -&gt; <span class="number">2</span>, <span class="string">&quot;c&quot;</span> -&gt; <span class="number">3</span> )</span><br><span class="line">        <span class="keyword">val</span> map2 = mutable.<span class="type">Map</span>( <span class="string">&quot;d&quot;</span> -&gt; <span class="number">4</span>, <span class="string">&quot;e&quot;</span> -&gt; <span class="number">5</span>, <span class="string">&quot;f&quot;</span> -&gt; <span class="number">6</span> )</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> set: <span class="type">Set</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = map1.toSet</span><br><span class="line">        <span class="keyword">val</span> list: <span class="type">List</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = map1.toList</span><br><span class="line">        <span class="keyword">val</span> seq: <span class="type">Seq</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = map1.toSeq</span><br><span class="line">        <span class="keyword">val</span> array: <span class="type">Array</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = map1.toArray</span><br><span class="line"></span><br><span class="line">        println(set.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">        println(list.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">        println(seq.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">        println(array.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"></span><br><span class="line">        println(map1.get(<span class="string">&quot;a&quot;</span>))</span><br><span class="line">        println(map1.getOrElse(<span class="string">&quot;a&quot;</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">        println(map1.keys)</span><br><span class="line">        println(map1.keySet)</span><br><span class="line">        println(map1.keysIterator)</span><br><span class="line">        println(map1.values)</span><br><span class="line">        println(map1.valuesIterator)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Option专门为了解决空指针问题来设计的</p>
<p>Option：选项，对象只有两个 Some, None</p>
<h3 id="8-7-Tuple"><a href="#8-7-Tuple" class="headerlink" title="8.7 Tuple"></a>8.7 Tuple</h3><p>​	在Scala语言中，我们可以将多个无关的数据元素封装为一个整体，这个整体我们称之为：元素组合，简称元组。有时也可将元组看成容纳元素的容器，其中最多只能容纳22个</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaCollection</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建元组，使用小括号</span></span><br><span class="line">        <span class="keyword">val</span> tuple = (<span class="number">1</span>, <span class="string">&quot;zhangsan&quot;</span>, <span class="number">30</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 根据顺序号访问元组的数据</span></span><br><span class="line">        println(tuple._1)</span><br><span class="line">        println(tuple._2)</span><br><span class="line">        println(tuple._3)</span><br><span class="line">        <span class="comment">// 迭代器</span></span><br><span class="line">        <span class="keyword">val</span> iterator: <span class="type">Iterator</span>[<span class="type">Any</span>] = tuple.productIterator</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 根据索引访问元素</span></span><br><span class="line">        tuple.productElement(<span class="number">0</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 如果元组的元素只有两个，那么我们称之为对偶元组，也称之为键值对</span></span><br><span class="line">        <span class="keyword">val</span> kv: (<span class="type">String</span>, <span class="type">Int</span>) = (<span class="string">&quot;a&quot;</span>, <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">val</span> kv1: (<span class="type">String</span>, <span class="type">Int</span>) = <span class="string">&quot;a&quot;</span> -&gt; <span class="number">1</span></span><br><span class="line">        println( kv eq kv1 )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-8-队列"><a href="#8-8-队列" class="headerlink" title="8.8 队列"></a>8.8 队列</h3><p>​	Scala也提供了队列（Queue）的数据结构，队列的特点就是先进先出。进队和出队的方法分别为enqueue和dequeue。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.mutable</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaCollection</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> que = <span class="keyword">new</span> mutable.<span class="type">Queue</span>[<span class="type">String</span>]()</span><br><span class="line">        <span class="comment">// 添加元素</span></span><br><span class="line">        que.enqueue(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>)</span><br><span class="line">        <span class="keyword">val</span> que1: mutable.<span class="type">Queue</span>[<span class="type">String</span>] = que += <span class="string">&quot;d&quot;</span></span><br><span class="line">        println(que eq que1)</span><br><span class="line">        <span class="comment">// 获取元素</span></span><br><span class="line">        println(que.dequeue())</span><br><span class="line">        println(que.dequeue())</span><br><span class="line">        println(que.dequeue())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-9-并行"><a href="#8-9-并行" class="headerlink" title="8.9 并行"></a>8.9 并行</h3><p>​	Scala为了充分使用多核CPU，提供了并行集合（有别于前面的串行集合），用于多核环境的并行计算。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaCollection</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> result1 = (<span class="number">0</span> to <span class="number">100</span>).map&#123;x =&gt; <span class="type">Thread</span>.currentThread.getName&#125;</span><br><span class="line">        <span class="keyword">val</span> result2 = (<span class="number">0</span> to <span class="number">100</span>).par.map&#123;x =&gt; <span class="type">Thread</span>.currentThread.getName&#125;</span><br><span class="line"></span><br><span class="line">        println(result1)</span><br><span class="line">        println(result2)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>线程安全问题</strong></p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662292574283.png" alt="1662292574283"></p>
<p>多线程并发执行的时候，对共享内存中的共享对象的属性进行修改，导致的数据冲突问题。</p>
<h2 id="9-模式匹配"><a href="#9-模式匹配" class="headerlink" title="9.模式匹配"></a>9.模式匹配</h2><h3 id="9-1-简介"><a href="#9-1-简介" class="headerlink" title="9.1 简介"></a>9.1 简介</h3><p>​	Scala中的模式匹配类似于Java中的switch语法,但是scala从语法中补充了更多的功能，可以按照指定的规则对数据或对象进行匹配, 所以更加强大。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">int i = <span class="number">20</span></span><br><span class="line">switch (i) &#123;</span><br><span class="line">    <span class="keyword">default</span> : </span><br><span class="line">        <span class="type">System</span>.out.println(<span class="string">&quot;other number&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">10</span> :</span><br><span class="line">        <span class="type">System</span>.out.println(<span class="string">&quot;10&quot;</span>);</span><br><span class="line">        <span class="comment">//break;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">20</span> : </span><br><span class="line">        <span class="type">System</span>.out.println(<span class="string">&quot;20&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-2-基本语法"><a href="#9-2-基本语法" class="headerlink" title="9.2 基本语法"></a>9.2 基本语法</h3><p>​	模式匹配语法中，采用match关键字声明，每个分支采用case关键字进行声明，当需要匹配时，会从第一个case分支开始，如果匹配成功，那么执行对应的逻辑代码，如果匹配不成功，继续执行下一个分支进行判断。如果所有case都不匹配，那么会执行case _分支，类似于Java中default语句。如果不存在case _分支，那么会发生错误。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaMatch</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> a: <span class="type">Int</span> = <span class="number">10</span></span><br><span class="line">        <span class="keyword">var</span> b: <span class="type">Int</span> = <span class="number">20</span></span><br><span class="line">        <span class="keyword">var</span> operator: <span class="type">Char</span> = &#x27;d&#x27;</span><br><span class="line">        <span class="keyword">var</span> result = operator <span class="keyword">match</span> &#123;</span><br><span class="line">            <span class="keyword">case</span> &#x27;+&#x27; =&gt; a + b</span><br><span class="line">            <span class="keyword">case</span> &#x27;-&#x27; =&gt; a - b</span><br><span class="line">            <span class="keyword">case</span> &#x27;*&#x27; =&gt; a * b</span><br><span class="line">            <span class="keyword">case</span> &#x27;/&#x27; =&gt; a / b</span><br><span class="line">            <span class="keyword">case</span> _ =&gt; <span class="string">&quot;illegal&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        println(result)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-3-匹配规则"><a href="#9-3-匹配规则" class="headerlink" title="9.3 匹配规则"></a>9.3 匹配规则</h3><h4 id="9-3-1-匹配常量"><a href="#9-3-1-匹配常量" class="headerlink" title="9.3.1 匹配常量"></a>9.3.1 匹配常量</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">describe</span></span>(x: <span class="type">Any</span>) = x <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">5</span> =&gt; <span class="string">&quot;Int five&quot;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;hello&quot;</span> =&gt; <span class="string">&quot;String hello&quot;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="literal">true</span> =&gt; <span class="string">&quot;Boolean true&quot;</span></span><br><span class="line">    <span class="keyword">case</span> &#x27;+&#x27; =&gt; <span class="string">&quot;Char +&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="9-3-2-匹配类型"><a href="#9-3-2-匹配类型" class="headerlink" title="9.3.2 匹配类型"></a>9.3.2 匹配类型</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//匹配类型，类型前面需要增加变量名称，当需要使用该变量的时候，就可以使用这个值。这个变量就是将数据转换成为指定类型的变量</span></span><br><span class="line"><span class="comment">//Scala中的类型匹配时，是不考虑泛型的</span></span><br><span class="line"><span class="comment">//但是Array[Int] 里面的Int并不是真正的泛型，整体是一个类型</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">describe</span></span>(x: <span class="type">Any</span>) = x <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> i: <span class="type">Int</span> =&gt; i+<span class="number">10</span></span><br><span class="line">    <span class="keyword">case</span> s: <span class="type">String</span> =&gt; <span class="string">&quot;String hello&quot;</span></span><br><span class="line">    <span class="keyword">case</span> m: <span class="type">List</span>[_] =&gt; <span class="string">&quot;List&quot;</span>    <span class="comment">//下划线表示任意类型都可以</span></span><br><span class="line">    <span class="keyword">case</span> c: <span class="type">Array</span>[<span class="type">Int</span>] =&gt; <span class="string">&quot;Array[Int]&quot;</span></span><br><span class="line">    <span class="keyword">case</span> someThing =&gt; <span class="string">&quot;something else &quot;</span> + someThing</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="9-3-3-匹配数组"><a href="#9-3-3-匹配数组" class="headerlink" title="9.3.3 匹配数组"></a>9.3.3 匹配数组</h4><p>_代表任意值 *代表任意个数</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (arr &lt;- <span class="type">Array</span>(</span><br><span class="line">    <span class="type">Array</span>(<span class="number">0</span>), </span><br><span class="line">    <span class="type">Array</span>(<span class="number">1</span>, <span class="number">0</span>), </span><br><span class="line">    <span class="type">Array</span>(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>), </span><br><span class="line">    <span class="type">Array</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>), </span><br><span class="line">    <span class="type">Array</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>), </span><br><span class="line">    <span class="type">Array</span>(<span class="string">&quot;hello&quot;</span>, <span class="number">90</span>))) &#123; <span class="comment">// 对一个数组集合进行遍历</span></span><br><span class="line">    <span class="keyword">val</span> result = arr <span class="keyword">match</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">Array</span>(<span class="number">0</span>) =&gt; <span class="string">&quot;0&quot;</span> <span class="comment">//匹配Array(0) 这个数组</span></span><br><span class="line">        <span class="keyword">case</span> <span class="type">Array</span>(x, y) =&gt; x + <span class="string">&quot;,&quot;</span> + y <span class="comment">//匹配有两个元素的数组，然后将将元素值赋给对应的x,y</span></span><br><span class="line">        <span class="keyword">case</span> <span class="type">Array</span>(<span class="number">0</span>, _*) =&gt; <span class="string">&quot;以0开头的数组&quot;</span> <span class="comment">//匹配以0开头和数组</span></span><br><span class="line">        <span class="keyword">case</span> _ =&gt; <span class="string">&quot;something else&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    println(<span class="string">&quot;result = &quot;</span> + result)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="9-3-4-匹配列表"><a href="#9-3-4-匹配列表" class="headerlink" title="9.3.4 匹配列表"></a>9.3.4 匹配列表</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (list &lt;- <span class="type">Array</span>(<span class="type">List</span>(<span class="number">0</span>), <span class="type">List</span>(<span class="number">1</span>, <span class="number">0</span>), <span class="type">List</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>), <span class="type">List</span>(<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>), <span class="type">List</span>(<span class="number">88</span>))) &#123;</span><br><span class="line">    <span class="keyword">val</span> result = list <span class="keyword">match</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">List</span>(<span class="number">0</span>) =&gt; <span class="string">&quot;0&quot;</span> <span class="comment">//匹配List(0)</span></span><br><span class="line">        <span class="keyword">case</span> <span class="type">List</span>(x, y) =&gt; x + <span class="string">&quot;,&quot;</span> + y <span class="comment">//匹配有两个元素的List</span></span><br><span class="line">        <span class="keyword">case</span> <span class="type">List</span>(<span class="number">0</span>, _*) =&gt; <span class="string">&quot;0 ...&quot;</span></span><br><span class="line">        <span class="keyword">case</span> _ =&gt; <span class="string">&quot;something else&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(result)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">val</span> list: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>)</span><br><span class="line"></span><br><span class="line">list <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> first :: second :: rest =&gt; println(first + <span class="string">&quot;-&quot;</span> + second + <span class="string">&quot;-&quot;</span> + rest)</span><br><span class="line">    <span class="keyword">case</span> _ =&gt; println(<span class="string">&quot;something else&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="9-3-5-匹配元组"><a href="#9-3-5-匹配元组" class="headerlink" title="9.3.5 匹配元组"></a>9.3.5 匹配元组</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (tuple &lt;- </span><br><span class="line">     <span class="type">Array</span>((<span class="number">0</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">0</span>), (<span class="number">1</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>))) &#123;</span><br><span class="line">    <span class="keyword">val</span> result = tuple <span class="keyword">match</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> (<span class="number">0</span>, _) =&gt; <span class="string">&quot;0 ...&quot;</span> <span class="comment">//是第一个元素是0的元组</span></span><br><span class="line">        <span class="keyword">case</span> (y, <span class="number">0</span>) =&gt; <span class="string">&quot;&quot;</span> + y + <span class="string">&quot;0&quot;</span> <span class="comment">// 匹配后一个元素是0的对偶元组</span></span><br><span class="line">        <span class="keyword">case</span> (a, b) =&gt; <span class="string">&quot;&quot;</span> + a + <span class="string">&quot; &quot;</span> + b</span><br><span class="line">        <span class="keyword">case</span> _ =&gt; <span class="string">&quot;something else&quot;</span> <span class="comment">//默认</span></span><br><span class="line">    &#125;</span><br><span class="line">    println(result)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>模式匹配常用用法</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.scala.chapter08</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Scala04_Match</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO - 模式匹配 - 匹配规则</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 模式匹配</span></span><br><span class="line">        <span class="comment">//val (_, name, _) = (1, &quot;zhangsan&quot;, 30)</span></span><br><span class="line">       <span class="comment">// println(name)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        val map = Map(</span></span><br><span class="line"><span class="comment">//            (&quot;a&quot;, 1), (&quot;b&quot;, 2), (&quot;c&quot;, 3)</span></span><br><span class="line"><span class="comment">//        )</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        for ( (k, 2) &lt;- map ) &#123;</span></span><br><span class="line"><span class="comment">//            println( k )</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> list = <span class="type">List</span>(</span><br><span class="line">            ((<span class="string">&quot;河北&quot;</span>, <span class="string">&quot;鞋&quot;</span>), <span class="number">10</span>),</span><br><span class="line">            ((<span class="string">&quot;河北&quot;</span>, <span class="string">&quot;衣服&quot;</span>), <span class="number">20</span>),</span><br><span class="line">            ((<span class="string">&quot;河北&quot;</span>, <span class="string">&quot;电脑&quot;</span>), <span class="number">15</span>),</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        list.map(</span><br><span class="line">            (t) =&gt; &#123;</span><br><span class="line">                t</span><br><span class="line">            &#125;</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 下面的代码中，使用模式匹配需要注意：</span></span><br><span class="line">        <span class="comment">// 1. 匹配数据时，需要使用case关键字</span></span><br><span class="line">        <span class="comment">// 2. case分支可能存在多个，那么需要将map的小括号换成大括号</span></span><br><span class="line"><span class="comment">//        val list1 = list.map &#123;</span></span><br><span class="line"><span class="comment">//            case ((prv, item), cnt) =&gt; &#123;</span></span><br><span class="line"><span class="comment">//                (prv, (item, cnt * 2))</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//        println(list1)</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> <span class="type">Array</span>(first, second, _*) = <span class="type">Array</span>(<span class="number">1</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">9</span>)</span><br><span class="line">        println(<span class="string">s&quot;first=<span class="subst">$first</span>,second=<span class="subst">$second</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="9-3-6-匹配对象"><a href="#9-3-6-匹配对象" class="headerlink" title="9.3.6 匹配对象"></a>9.3.6 匹配对象</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span>(<span class="params">val name: <span class="type">String</span>, val age: <span class="type">Int</span></span>)</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">User</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>(name: <span class="type">String</span>, age: <span class="type">Int</span>): <span class="type">User</span> = <span class="keyword">new</span> <span class="type">User</span>(name, age)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">unapply</span></span>(user: <span class="type">User</span>): <span class="type">Option</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">            <span class="type">None</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="type">Some</span>(user.name, user.age)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> user: <span class="type">User</span> = <span class="type">User</span>(<span class="string">&quot;zhangsan&quot;</span>, <span class="number">11</span>)</span><br><span class="line"><span class="keyword">val</span> result = user <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">User</span>(<span class="string">&quot;zhangsan&quot;</span>, <span class="number">11</span>) =&gt; <span class="string">&quot;yes&quot;</span></span><br><span class="line">    <span class="keyword">case</span> _ =&gt; <span class="string">&quot;no&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="9-3-7-样例类"><a href="#9-3-7-样例类" class="headerlink" title="9.3.7 样例类"></a>9.3.7 样例类</h4><ul>
<li><p>样例类就是使用case关键字声明的类</p>
</li>
<li><p>样例类仍然是类，和普通类相比，只是其自动生成了伴生对象，并且伴生对象中自动提供了一些常用的方法，如apply、unapply、toString、equals、hashCode和copy。</p>
</li>
<li><p>样例类是为模式匹配而优化的类，因为其默认提供了unapply方法，因此，样例类可以直接使用模式匹配，而无需自己实现unapply方法。</p>
</li>
<li><p>构造器中的每一个参数都成为val，除非它被显式地声明为var（不建议这样做）</p>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span>(<span class="params">name: <span class="type">String</span>, var age: <span class="type">Int</span></span>)</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaCaseClass</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> user: <span class="type">User</span> = <span class="type">User</span>(<span class="string">&quot;zhangsan&quot;</span>, <span class="number">11</span>)</span><br><span class="line">        <span class="keyword">val</span> result = user <span class="keyword">match</span> &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="type">User</span>(<span class="string">&quot;zhangsan&quot;</span>, <span class="number">11</span>) =&gt; <span class="string">&quot;yes&quot;</span></span><br><span class="line">            <span class="keyword">case</span> _ =&gt; <span class="string">&quot;no&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        println(result)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="9-4-应用场景"><a href="#9-4-应用场景" class="headerlink" title="9.4 应用场景"></a>9.4 应用场景</h3><h4 id="9-4-1-变量声明"><a href="#9-4-1-变量声明" class="headerlink" title="9.4.1 变量声明"></a>9.4.1 变量声明</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaMatch</span> </span>&#123; </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> (x, y) = (<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">        println(<span class="string">s&quot;x=<span class="subst">$x</span>,y=<span class="subst">$y</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> <span class="type">Array</span>(first, second, _*) = <span class="type">Array</span>(<span class="number">1</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">9</span>)</span><br><span class="line">        println(<span class="string">s&quot;first=<span class="subst">$first</span>,second=<span class="subst">$second</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> <span class="type">Person</span>(name, age) = <span class="type">Person</span>(<span class="string">&quot;zhangsan&quot;</span>, <span class="number">16</span>)</span><br><span class="line">        println(<span class="string">s&quot;name=<span class="subst">$name</span>,age=<span class="subst">$age</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">name: <span class="type">String</span>, age: <span class="type">Int</span></span>)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="9-4-2-循环匹配"><a href="#9-4-2-循环匹配" class="headerlink" title="9.4.2 循环匹配"></a>9.4.2 循环匹配</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaMatch</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> map = <span class="type">Map</span>(<span class="string">&quot;A&quot;</span> -&gt; <span class="number">1</span>, <span class="string">&quot;B&quot;</span> -&gt; <span class="number">0</span>, <span class="string">&quot;C&quot;</span> -&gt; <span class="number">3</span>)</span><br><span class="line">        <span class="keyword">for</span> ((k, v) &lt;- map) &#123; <span class="comment">//直接将map中的k-v遍历出来</span></span><br><span class="line">            println(k + <span class="string">&quot; -&gt; &quot;</span> + v) <span class="comment">//3个</span></span><br><span class="line">        &#125;</span><br><span class="line">        println(<span class="string">&quot;----------------------&quot;</span>)</span><br><span class="line">        <span class="comment">//遍历value=0的 k-v ,如果v不是0,过滤</span></span><br><span class="line">        <span class="keyword">for</span> ((k, <span class="number">0</span>) &lt;- map) &#123;</span><br><span class="line">            println(k + <span class="string">&quot; --&gt; &quot;</span> + <span class="number">0</span>) <span class="comment">// B-&gt;0</span></span><br><span class="line">        &#125;</span><br><span class="line">        println(<span class="string">&quot;----------------------&quot;</span>)</span><br><span class="line">        <span class="comment">//if v == 0 是一个过滤的条件</span></span><br><span class="line">        <span class="keyword">for</span> ((k, v) &lt;- map <span class="keyword">if</span> v &gt;= <span class="number">1</span>) &#123;</span><br><span class="line">            println(k + <span class="string">&quot; ---&gt; &quot;</span> + v) <span class="comment">// A-&gt;1 和 c-&gt;33</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="9-4-3-函数参数"><a href="#9-4-3-函数参数" class="headerlink" title="9.4.3 函数参数"></a>9.4.3 函数参数</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaMatch</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> list = <span class="type">List</span>(</span><br><span class="line">            (<span class="string">&quot;a&quot;</span>, <span class="number">1</span>), (<span class="string">&quot;b&quot;</span>, <span class="number">2</span>), (<span class="string">&quot;c&quot;</span>, <span class="number">3</span>)</span><br><span class="line">        )</span><br><span class="line">        <span class="keyword">val</span> list1 = list.map &#123;</span><br><span class="line">            <span class="keyword">case</span> ( k, v ) =&gt; &#123;</span><br><span class="line">                (k, v*<span class="number">2</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        println(list1)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-5-偏函数"><a href="#9-5-偏函数" class="headerlink" title="9.5 偏函数"></a>9.5 偏函数</h3><p>​	所谓的偏函数，其实就是对集合中符合条件的数据进行处理的函数</p>
<p>​	偏函数也是函数的一种，通过偏函数我们可以方便的对输入参数做更精确的检查。例如该偏函数的输入类型为Int，但是我们只考虑数值为1的时候，数据该如何处理，其他不考虑。</p>
<p><strong>基本语法</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 声明偏函数</span></span><br><span class="line"><span class="keyword">val</span> pf: <span class="type">PartialFunction</span>[<span class="type">Int</span>, <span class="type">String</span>] = &#123; <span class="keyword">case</span> <span class="number">1</span> =&gt; <span class="string">&quot;one&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line">。。。</span><br><span class="line"><span class="comment">// 应用偏函数</span></span><br><span class="line">println(<span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>).collect(pf))</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>案例实操</strong></p>
<p>将该List(1,2,3,4,5,6,”test”)中的Int类型的元素加一，并去掉字符串。</p>
<p>不使用偏函数</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="string">&quot;test&quot;</span>).filter(_.isInstanceOf[<span class="type">Int</span>]).map(_.asInstanceOf[<span class="type">Int</span>] + <span class="number">1</span>).foreach(println)</span><br></pre></td></tr></table></figure>

<p>使用偏函数</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="string">&quot;test&quot;</span>).collect &#123; <span class="keyword">case</span> x: <span class="type">Int</span> =&gt; x + <span class="number">1</span> &#125;.foreach(println)</span><br></pre></td></tr></table></figure>

<p>collect就是一个偏函数</p>
<h2 id="10-异常"><a href="#10-异常" class="headerlink" title="10. 异常"></a>10. 异常</h2><p>Scala异常语法处理上和Java类似，但是又不尽相同。</p>
<p><strong>Java异常：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> a / b;</span><br><span class="line">&#125; <span class="keyword">catch</span> (ArithmeticException e)&#123;</span><br><span class="line">    <span class="comment">// catch时，需要将范围小的写到前面</span></span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;finally&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Scala异常</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaException</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">var</span> n= <span class="number">10</span> / <span class="number">0</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">            <span class="keyword">case</span> ex: <span class="type">ArithmeticException</span>=&gt;&#123;</span><br><span class="line">                <span class="comment">// 发生算术异常</span></span><br><span class="line">                println(<span class="string">&quot;发生算术异常&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> ex: <span class="type">Exception</span>=&gt;&#123;</span><br><span class="line">                <span class="comment">// 对异常处理</span></span><br><span class="line">                println(<span class="string">&quot;发生了异常1&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            println(<span class="string">&quot;finally&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="11-隐式转换"><a href="#11-隐式转换" class="headerlink" title="11. 隐式转换"></a>11. 隐式转换</h2><h3 id="11-1-简介"><a href="#11-1-简介" class="headerlink" title="11.1 简介"></a>11.1 简介</h3><p>​	在之前的类型学习中，我们已经学习了自动类型转换，精度小的类型可以自动转换为精度大的类型，这个转换过程无需开发人员参与，由编译器自动完成，这个转换操作我们称之为隐式转换。</p>
<p>​	在其他的场合，隐式转换也起到了非常重要的作用。如Scala在程序编译错误时，可以通过隐式转换中类型转换机制尝试进行二次编译，将本身错误无法编译通过的代码通过类型转换后编译通过。慢慢地，这也形成了一种扩展功能的转换机制。这个听着很抽象，不好理解，不急，咱慢慢体会。</p>
<h3 id="11-2-隐式函数"><a href="#11-2-隐式函数" class="headerlink" title="11.2 隐式函数"></a>11.2 隐式函数</h3><p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662306692988.png" alt="1662306692988"></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaImplicit</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">implicit</span> <span class="function"><span class="keyword">def</span> <span class="title">transform</span></span>( d : <span class="type">Double</span> ): <span class="type">Int</span> = &#123;</span><br><span class="line">            d.toInt</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> d : <span class="type">Double</span> = <span class="number">2.0</span></span><br><span class="line">        <span class="keyword">val</span> i : <span class="type">Int</span> = d</span><br><span class="line">        println(i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="11-3-隐式参数、隐式变量"><a href="#11-3-隐式参数、隐式变量" class="headerlink" title="11.3 隐式参数、隐式变量"></a>11.3 隐式参数、隐式变量</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaImplicit</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">transform</span></span>( <span class="keyword">implicit</span>  d : <span class="type">Double</span> ) = &#123;</span><br><span class="line">            d.toInt</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">implicit</span> <span class="keyword">val</span> dd : <span class="type">Double</span> = <span class="number">2.0</span></span><br><span class="line">        println(transform)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	隐式参数和隐式变量是成对出现的，就是把隐式变量赋值给隐式参数，但是我们不需要传递，这个传递的过程是编译器完成的</p>
<p>​	<strong>在同一个作用域中，如果有相同的转换规则的多个数据，会发生错误。</strong></p>
<h3 id="11-4-隐式类"><a href="#11-4-隐式类" class="headerlink" title="11.4 隐式类"></a>11.4 隐式类</h3><p>​	在Scala2.10后提供了隐式类，可以使用implicit声明类，隐式类非常强大，同样可以扩展类的功能，在集合的数据处理中，隐式类发挥了重要的作用。</p>
<ul>
<li><p>其所带的构造参数有且只能有一个</p>
</li>
<li><p>隐式类必须被定义在“类”或“伴生对象”或“包对象”里，即隐式类不能是顶级的。</p>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaImplicit</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> emp = <span class="keyword">new</span> <span class="type">Emp</span>()</span><br><span class="line">        emp.insertUser()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Emp</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">implicit</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span>(<span class="params"> emp : <span class="type">Emp</span></span>) </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">insertUser</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">            println(<span class="string">&quot;insert user...&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="11-5-隐式机制"><a href="#11-5-隐式机制" class="headerlink" title="11.5 隐式机制"></a>11.5 隐式机制</h3><p>所谓的隐式机制，就是一旦出现编译错误时，编译器会从哪些地方查找对应的隐式转换规则</p>
<p>Ø  当前代码作用域</p>
<p>Ø  当前代码上级作用域</p>
<p>Ø  当前类所在的包对象</p>
<p>Ø  当前类（对象）的父类（父类）或特质（父特质）</p>
<p>其实最直接的方式就是直接导入。</p>
<h2 id="12-泛型"><a href="#12-泛型" class="headerlink" title="12. 泛型"></a>12. 泛型</h2><p>​	Scala的泛型和Java中的泛型表达的含义都是一样的，对处理的数据类型进行约束，但是Scala提供了更加强大的功能</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span>[<span class="type">A</span>] </span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">var</span> elements: <span class="type">List</span>[<span class="type">A</span>] = <span class="type">Nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="12-1-泛型转换"><a href="#12-1-泛型转换" class="headerlink" title="12.1 泛型转换"></a>12.1 泛型转换</h3><h4 id="12-1-1-泛型不可变"><a href="#12-1-1-泛型不可变" class="headerlink" title="12.1.1 泛型不可变"></a>12.1.1 泛型不可变</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaGeneric</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> test1 : <span class="type">Test</span>[<span class="type">User</span>] = <span class="keyword">new</span> <span class="type">Test</span>[<span class="type">User</span>] <span class="comment">// OK</span></span><br><span class="line">        <span class="keyword">val</span> test2 : <span class="type">Test</span>[<span class="type">User</span>] = <span class="keyword">new</span> <span class="type">Test</span>[<span class="type">Parent</span>] <span class="comment">// Error</span></span><br><span class="line">        <span class="keyword">val</span> test3 : <span class="type">Test</span>[<span class="type">User</span>] = <span class="keyword">new</span> <span class="type">Test</span>[<span class="type">SubUser</span>]  <span class="comment">// Error</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Test</span>[<span class="type">T</span>] </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Parent</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">SubUser</span> <span class="keyword">extends</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="12-1-2-泛型协变"><a href="#12-1-2-泛型协变" class="headerlink" title="12.1.2 泛型协变"></a>12.1.2 泛型协变</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaGeneric</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> test1 : <span class="type">Test</span>[<span class="type">User</span>] = <span class="keyword">new</span> <span class="type">Test</span>[<span class="type">User</span>] <span class="comment">// OK</span></span><br><span class="line">        <span class="keyword">val</span> test2 : <span class="type">Test</span>[<span class="type">User</span>] = <span class="keyword">new</span> <span class="type">Test</span>[<span class="type">Parent</span>] <span class="comment">// Error</span></span><br><span class="line">        <span class="keyword">val</span> test3 : <span class="type">Test</span>[<span class="type">User</span>] = <span class="keyword">new</span> <span class="type">Test</span>[<span class="type">SubUser</span>]  <span class="comment">// OK</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Test</span>[+<span class="type">T</span>] </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Parent</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">SubUser</span> <span class="keyword">extends</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="12-1-3-泛型逆变"><a href="#12-1-3-泛型逆变" class="headerlink" title="12.1.3 泛型逆变"></a>12.1.3 泛型逆变</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaGeneric</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> test1 : <span class="type">Test</span>[<span class="type">User</span>] = <span class="keyword">new</span> <span class="type">Test</span>[<span class="type">User</span>] <span class="comment">// OK</span></span><br><span class="line">        <span class="keyword">val</span> test2 : <span class="type">Test</span>[<span class="type">User</span>] = <span class="keyword">new</span> <span class="type">Test</span>[<span class="type">Parent</span>] <span class="comment">// OK</span></span><br><span class="line">        <span class="keyword">val</span> test3 : <span class="type">Test</span>[<span class="type">User</span>] = <span class="keyword">new</span> <span class="type">Test</span>[<span class="type">SubUser</span>]  <span class="comment">// Error</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Test</span>[-<span class="type">T</span>] </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Parent</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">SubUser</span> <span class="keyword">extends</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="12-2-泛型边界"><a href="#12-2-泛型边界" class="headerlink" title="12.2 泛型边界"></a>12.2 泛型边界</h3><p>​	Scala的泛型可以根据功能设定类树的边界</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaGeneric</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> parent : <span class="type">Parent</span> = <span class="keyword">new</span> <span class="type">Parent</span>()</span><br><span class="line">        <span class="keyword">val</span> user : <span class="type">User</span> = <span class="keyword">new</span> <span class="type">User</span>()</span><br><span class="line">        <span class="keyword">val</span> subuser : <span class="type">SubUser</span> = <span class="keyword">new</span> <span class="type">SubUser</span>()</span><br><span class="line">        test[<span class="type">User</span>](parent) <span class="comment">// Error</span></span><br><span class="line">        test[<span class="type">User</span>](user)   <span class="comment">// OK</span></span><br><span class="line">        test[<span class="type">User</span>](subuser) <span class="comment">// OK</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span>  <span class="title">test</span></span>[<span class="type">A</span>]( a : <span class="type">A</span> ): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(a)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Parent</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">SubUser</span> <span class="keyword">extends</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="12-2-1-泛型上限"><a href="#12-2-1-泛型上限" class="headerlink" title="12.2.1 泛型上限"></a>12.2.1 泛型上限</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaGeneric</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> parent : <span class="type">Parent</span> = <span class="keyword">new</span> <span class="type">Parent</span>()</span><br><span class="line">        <span class="keyword">val</span> user : <span class="type">User</span> = <span class="keyword">new</span> <span class="type">User</span>()</span><br><span class="line">        <span class="keyword">val</span> subuser : <span class="type">SubUser</span> = <span class="keyword">new</span> <span class="type">SubUser</span>()</span><br><span class="line">        test[<span class="type">Parent</span>](parent) <span class="comment">// Error</span></span><br><span class="line">        test[<span class="type">User</span>](user)   <span class="comment">// OK</span></span><br><span class="line">        test[<span class="type">SubUser</span>](subuser) <span class="comment">// OK</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span>  <span class="title">test</span></span>[<span class="type">A</span>&lt;:<span class="type">User</span>]( a : <span class="type">A</span> ): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(a)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Parent</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">SubUser</span> <span class="keyword">extends</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="12-2-2-泛型下限"><a href="#12-2-2-泛型下限" class="headerlink" title="12.2.2 泛型下限"></a>12.2.2 泛型下限</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaGeneric</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> parent : <span class="type">Parent</span> = <span class="keyword">new</span> <span class="type">Parent</span>()</span><br><span class="line">        <span class="keyword">val</span> user : <span class="type">User</span> = <span class="keyword">new</span> <span class="type">User</span>()</span><br><span class="line">        <span class="keyword">val</span> subuser : <span class="type">SubUser</span> = <span class="keyword">new</span> <span class="type">SubUser</span>()</span><br><span class="line">        test[<span class="type">Parent</span>](parent) <span class="comment">// OK</span></span><br><span class="line">        test[<span class="type">User</span>](user)   <span class="comment">// OK</span></span><br><span class="line">        test[<span class="type">SubUser</span>](subuser) <span class="comment">// Error</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span>  <span class="title">test</span></span>[<span class="type">A</span>&gt;:<span class="type">User</span>]( a : <span class="type">A</span> ): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(a)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Parent</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">SubUser</span> <span class="keyword">extends</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="12-3-上下文限定"><a href="#12-3-上下文限定" class="headerlink" title="12.3 上下文限定"></a>12.3 上下文限定</h3><p>​	上下文限定是将泛型和隐式转换的结合产物，以下两者功能相同，使用上下文限定[A : Ordering]之后，方法内无法使用隐式参数名调用隐式参数，需要通过implicitly[Ordering[A]]获取隐式变量，如果此时无法查找到对应类型的隐式变量，会发生出错误。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaGeneric</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">f</span></span>[<span class="type">A</span> : <span class="type">Test</span>](a: <span class="type">A</span>) = println(a)</span><br><span class="line">        <span class="keyword">implicit</span> <span class="keyword">val</span> test : <span class="type">Test</span>[<span class="type">User</span>] = <span class="keyword">new</span> <span class="type">Test</span>[<span class="type">User</span>]</span><br><span class="line">        f( <span class="keyword">new</span> <span class="type">User</span>() )</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Test</span>[<span class="type">T</span>] </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Parent</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">SubUser</span> <span class="keyword">extends</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="13-正则表达式"><a href="#13-正则表达式" class="headerlink" title="13 正则表达式"></a>13 正则表达式</h2><h3 id="13-1-简介"><a href="#13-1-简介" class="headerlink" title="13.1 简介"></a>13.1 简介</h3><p>​	正则表达式(regular expression)描述了一种字符串匹配的模式（pattern），可以用来检查一个串是否含有某种子串、将匹配的子串替换或者从某个串中取出符合某个条件的子串等。</p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662379360534.png" alt="1662379360534"></p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662379378344.png" alt="1662379378344"></p>
<p><img src="/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/1662379386353.png" alt="1662379386353"></p>
<h3 id="13-2-基本语法"><a href="#13-2-基本语法" class="headerlink" title="13.2 基本语法"></a>13.2 基本语法</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaRegex</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">// 构建正则表达式</span></span><br><span class="line">        <span class="keyword">val</span> pattern = <span class="string">&quot;Scala&quot;</span>.r</span><br><span class="line">        <span class="keyword">val</span> str = <span class="string">&quot;Scala is Scalable Language&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 匹配字符串 - 第一个</span></span><br><span class="line">        println(pattern findFirstIn str)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 匹配字符串 - 所有</span></span><br><span class="line">        <span class="keyword">val</span> iterator: <span class="type">Regex</span>.<span class="type">MatchIterator</span> = pattern findAllIn str</span><br><span class="line">        <span class="keyword">while</span> ( iterator.hasNext ) &#123;</span><br><span class="line">            println(iterator.next())</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        println(<span class="string">&quot;***************************&quot;</span>)</span><br><span class="line">        <span class="comment">// 匹配规则：大写，小写都可</span></span><br><span class="line">        <span class="keyword">val</span> pattern1 = <span class="keyword">new</span> <span class="type">Regex</span>(<span class="string">&quot;(S|s)cala&quot;</span>)</span><br><span class="line">        <span class="keyword">val</span> str1 = <span class="string">&quot;Scala is scalable Language&quot;</span></span><br><span class="line">        println((pattern1 findAllIn str1).mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="13-3-案例实操"><a href="#13-3-案例实操" class="headerlink" title="13.3  案例实操"></a>13.3  案例实操</h3><ul>
<li>手机号正则表达式验证方法</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaRegex</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">// 构建正则表达式</span></span><br><span class="line">        println(isMobileNumber(<span class="string">&quot;18801234567&quot;</span>))</span><br><span class="line">        println(isMobileNumber(<span class="string">&quot;11111111111&quot;</span>))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isMobileNumber</span></span>(number: <span class="type">String</span>): <span class="type">Boolean</span> =&#123;</span><br><span class="line">        <span class="keyword">val</span> regex = <span class="string">&quot;^((13[0-9])|(14[5,7,9])|(15[^4])|(18[0-9])|(17[0,1,3,5,6,7,8]))[0-9]&#123;8&#125;$&quot;</span>.r</span><br><span class="line">        <span class="keyword">val</span> length = number.length</span><br><span class="line">        regex.findFirstMatchIn(number.slice(length<span class="number">-11</span>,length)) != <span class="type">None</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>提取邮件地址的域名部分</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaRegex</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">// 构建正则表达式</span></span><br><span class="line">        <span class="keyword">val</span> r = <span class="string">&quot;&quot;&quot;([_A-Za-z0-9-]+(?:\.[_A-Za-z0-9-\+]+)*)(@[A-Za-z0-9-]+(?:\.[A-Za-z0-9-]+)*(?:\.[A-Za-z]&#123;2,&#125;)) ?&quot;&quot;&quot;</span>.r</span><br><span class="line">        println(r.replaceAllIn(<span class="string">&quot;abc.edf+jianli@gmail.com   hello@gmail.com.cn&quot;</span>, (m =&gt; <span class="string">&quot;*****&quot;</span> + m.group(<span class="number">2</span>))))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://example.com">Xiang Liu</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/">http://example.com/2022/09/03/scala/scala%E7%AE%80%E4%BB%8B/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">The Xiang Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/map/">map</a><a class="post-meta__tags" href="/tags/groupBy/">groupBy</a><a class="post-meta__tags" href="/tags/flatMap/">flatMap</a><a class="post-meta__tags" href="/tags/Scala/">Scala</a><a class="post-meta__tags" href="/tags/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/">函数式编程</a><a class="post-meta__tags" href="/tags/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0/">匿名函数</a><a class="post-meta__tags" href="/tags/%E7%89%B9%E8%B4%A8/">特质</a><a class="post-meta__tags" href="/tags/%E6%A0%B7%E4%BE%8B%E7%B1%BB/">样例类</a><a class="post-meta__tags" href="/tags/reduce/">reduce</a><a class="post-meta__tags" href="/tags/reduceLeft/">reduceLeft</a><a class="post-meta__tags" href="/tags/fold/">fold</a><a class="post-meta__tags" href="/tags/filter/">filter</a><a class="post-meta__tags" href="/tags/sliding/">sliding</a><a class="post-meta__tags" href="/tags/List/">List</a><a class="post-meta__tags" href="/tags/Set/">Set</a><a class="post-meta__tags" href="/tags/Map/">Map</a><a class="post-meta__tags" href="/tags/%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D/">模式匹配</a><a class="post-meta__tags" href="/tags/%E5%81%8F%E5%87%BD%E6%95%B0/">偏函数</a></div><div class="post_share"><div class="social-share" data-image="/../image/bg.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/09/05/Spark/spark_wordcount/"><img class="prev-cover" src="/../image/bg.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Spark为什么要学</div></div></a></div><div class="next-post pull-right"><a href="/2022/09/02/Hbase/Hbase%E6%A6%82%E5%BF%B5/"><img class="next-cover" src="/../image/bg.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">HBase概述</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/09/06/Spark/Spark%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B/" title="Spark核心编程"><img class="cover" src="/../image/bg.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-09-06</div><div class="title">Spark核心编程</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/./image/title.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Xiang Liu</div><div class="author-info__description">欢迎访问我的博客</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">28</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">191</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">17</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/theXiangCode" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://mail.qq.com/" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">这几天心理颇不宁静</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Scala%E5%85%A5%E9%97%A8"><span class="toc-text">1. Scala入门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%AD%A6%E4%B9%A0Scala"><span class="toc-text">1.1 为什么要学习Scala</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%8F%98%E9%87%8F%E5%92%8C%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">2. 变量和数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E6%B3%A8%E9%87%8A"><span class="toc-text">2.1 注释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E5%8F%98%E9%87%8F"><span class="toc-text">2.2 变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E8%AF%AD%E6%B3%95%E5%A3%B0%E6%98%8E"><span class="toc-text">2.2.1 语法声明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8F%98%E9%87%8F%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">2.2.2 变量的初始化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%8F%AF%E5%8F%98%E5%8F%98%E9%87%8F"><span class="toc-text">2.2.3 可变变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%8D%E5%8F%AF%E5%8F%98%E5%8F%98%E9%87%8F"><span class="toc-text">2.2.4 不可变变量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E6%A0%87%E8%AF%86%E7%AC%A6"><span class="toc-text">2.3 标识符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">2.4  字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="toc-text">2.5 输入输出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">2.6 数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-6-1-Java%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">2.6.1 Java数据类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-6-2-Scala%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">2.6.2 Scala数据类型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">2.7 类型转换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">3. 运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-text">4. 流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-for%E5%BE%AA%E7%8E%AF"><span class="toc-text">4.1 for循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-While%E5%BE%AA%E7%8E%AF"><span class="toc-text">4.2 While循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E5%BE%AA%E7%8E%AF%E4%B8%AD%E6%96%AD"><span class="toc-text">4.3 循环中断</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E5%9F%BA%E7%A1%80%E5%87%BD%E6%95%B0%E7%BC%96%E7%A8%8B"><span class="toc-text">5. 基础函数编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text">5.1 基本语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E5%87%BD%E6%95%B0-amp-%E6%96%B9%E6%B3%95"><span class="toc-text">5.2 函数&amp;方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89"><span class="toc-text">5.3 函数定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-text">5.4 函数参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E5%87%BD%E6%95%B0%E8%87%B3%E7%AE%80%E5%8E%9F%E5%88%99%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-text">5.5 函数至简原则（重点）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%E7%BC%96%E7%A8%8B"><span class="toc-text">6. 高阶函数编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E5%80%BC"><span class="toc-text">6.1 函数作为值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0"><span class="toc-text">6.2 函数作为参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-text">6.3 函数作为返回值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="toc-text">6.4 匿名函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-%E6%8E%A7%E5%88%B6%E6%8A%BD%E8%B1%A1"><span class="toc-text">6.5 控制抽象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-6-%E9%97%AD%E5%8C%85"><span class="toc-text">6.6 闭包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-7-%E5%87%BD%E6%95%B0%E6%9F%AF%E9%87%8C%E5%8C%96"><span class="toc-text">6.7 函数柯里化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-8-%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0"><span class="toc-text">6.8 递归函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-9-%E6%83%B0%E6%80%A7%E5%87%BD%E6%95%B0"><span class="toc-text">6.9 惰性函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B"><span class="toc-text">7. 面向对象编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-%E5%9F%BA%E7%A1%80%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B"><span class="toc-text">7.1 基础面向对象编程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#7-1-1-%E5%8C%85"><span class="toc-text">7.1.1 包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-1-2-%E5%AF%BC%E5%85%A5"><span class="toc-text">7.1.2 导入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-1-3-%E7%B1%BB"><span class="toc-text">7.1.3 类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-1-4-%E5%B1%9E%E6%80%A7"><span class="toc-text">7.1.4 属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-1-5-%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90"><span class="toc-text">7.1.5 访问权限</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-1-6-%E6%96%B9%E6%B3%95"><span class="toc-text">7.1.6 方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-1-7-%E5%AF%B9%E8%B1%A1"><span class="toc-text">7.1.7 对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-1-8-%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="toc-text">7.1.8 构造方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E9%AB%98%E9%98%B6%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B"><span class="toc-text">7.2 高阶面向对象编程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#7-2-1-%E7%BB%A7%E6%89%BF"><span class="toc-text">7.2.1 继承</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-2-2-%E5%B0%81%E8%A3%85"><span class="toc-text">7.2.2 封装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-2-3-%E6%8A%BD%E8%B1%A1"><span class="toc-text">7.2.3 抽象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-2-4-%E5%8D%95%E4%BE%8B%E5%AF%B9%E8%B1%A1"><span class="toc-text">7.2.4 单例对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-2-5-%E7%89%B9%E8%B4%A8"><span class="toc-text">7.2.5 特质</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-2-6-%E6%89%A9%E5%B1%95"><span class="toc-text">7.2.6 扩展</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E9%9B%86%E5%90%88"><span class="toc-text">8.集合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E7%AE%80%E4%BB%8B"><span class="toc-text">8.1 简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E6%95%B0%E7%BB%84"><span class="toc-text">8.2 数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#8-2-1-%E4%B8%8D%E5%8F%AF%E5%8F%98%E6%95%B0%E7%BB%84"><span class="toc-text">8.2.1 不可变数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-2-2-%E5%8F%AF%E5%8F%98%E6%95%B0%E7%BB%84"><span class="toc-text">8.2.2 可变数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-2-3-%E4%B8%8D%E5%8F%AF%E5%8F%98%E6%95%B0%E7%BB%84%E5%92%8C%E5%8F%AF%E5%8F%98%E6%95%B0%E7%BB%84%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="toc-text">8.2.3 不可变数组和可变数组的转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-2-4-%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-text">8.2.4 常用方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-text">8.3 常用方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#8-3-1-reduce-amp-reduceLeft-amp-reduceRight"><span class="toc-text">8.3.1 reduce &amp; reduceLeft  &amp; reduceRight</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-3-2-fold-amp-scan"><span class="toc-text">8.3.2 fold &amp; scan</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-3-3-map"><span class="toc-text">8.3.3 map</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-3-4-flatMap"><span class="toc-text">8.3.4 flatMap</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-3-5-filter"><span class="toc-text">8.3.5 filter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-3-6-groupBy"><span class="toc-text">8.3.6 groupBy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-3-7-sortBy"><span class="toc-text">8.3.7 sortBy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-3-8-sliding"><span class="toc-text">8.3.8 sliding</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-Seq%E9%9B%86%E5%90%88"><span class="toc-text">8.4 Seq集合</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#8-4-1-%E4%B8%8D%E5%8F%AF%E5%8F%98List"><span class="toc-text">8.4.1 不可变List</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-4-2-%E5%8F%AF%E5%8F%98List"><span class="toc-text">8.4.2 可变List</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-4-3-%E5%8F%AF%E5%8F%98%E9%9B%86%E5%90%88%E5%92%8C%E4%B8%8D%E5%8F%AF%E5%8F%98%E9%9B%86%E5%90%88%E7%9A%84%E8%BD%AC%E5%8F%98"><span class="toc-text">8.4.3 可变集合和不可变集合的转变</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-Set%E9%9B%86%E5%90%88"><span class="toc-text">8.5 Set集合</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#8-5-1-%E4%B8%8D%E5%8F%AF%E5%8F%98Set"><span class="toc-text">8.5.1 不可变Set</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-5-2-%E5%8F%AF%E5%8F%98set"><span class="toc-text">8.5.2 可变set</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-Map%E9%9B%86%E5%90%88"><span class="toc-text">8.6 Map集合</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#8-6-1-%E4%B8%8D%E5%8F%AF%E5%8F%98map"><span class="toc-text">8.6.1 不可变map</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-6-2-%E5%8F%AF%E5%8F%98map"><span class="toc-text">8.6.2 可变map</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-Tuple"><span class="toc-text">8.7 Tuple</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E9%98%9F%E5%88%97"><span class="toc-text">8.8 队列</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-9-%E5%B9%B6%E8%A1%8C"><span class="toc-text">8.9 并行</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D"><span class="toc-text">9.模式匹配</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-%E7%AE%80%E4%BB%8B"><span class="toc-text">9.1 简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text">9.2 基本语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%8C%B9%E9%85%8D%E8%A7%84%E5%88%99"><span class="toc-text">9.3 匹配规则</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#9-3-1-%E5%8C%B9%E9%85%8D%E5%B8%B8%E9%87%8F"><span class="toc-text">9.3.1 匹配常量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-3-2-%E5%8C%B9%E9%85%8D%E7%B1%BB%E5%9E%8B"><span class="toc-text">9.3.2 匹配类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-3-3-%E5%8C%B9%E9%85%8D%E6%95%B0%E7%BB%84"><span class="toc-text">9.3.3 匹配数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-3-4-%E5%8C%B9%E9%85%8D%E5%88%97%E8%A1%A8"><span class="toc-text">9.3.4 匹配列表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-3-5-%E5%8C%B9%E9%85%8D%E5%85%83%E7%BB%84"><span class="toc-text">9.3.5 匹配元组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-3-6-%E5%8C%B9%E9%85%8D%E5%AF%B9%E8%B1%A1"><span class="toc-text">9.3.6 匹配对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-3-7-%E6%A0%B7%E4%BE%8B%E7%B1%BB"><span class="toc-text">9.3.7 样例类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-4-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">9.4 应用场景</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#9-4-1-%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E"><span class="toc-text">9.4.1 变量声明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-4-2-%E5%BE%AA%E7%8E%AF%E5%8C%B9%E9%85%8D"><span class="toc-text">9.4.2 循环匹配</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-4-3-%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-text">9.4.3 函数参数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-5-%E5%81%8F%E5%87%BD%E6%95%B0"><span class="toc-text">9.5 偏函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E5%BC%82%E5%B8%B8"><span class="toc-text">10. 异常</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2"><span class="toc-text">11. 隐式转换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-%E7%AE%80%E4%BB%8B"><span class="toc-text">11.1 简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-%E9%9A%90%E5%BC%8F%E5%87%BD%E6%95%B0"><span class="toc-text">11.2 隐式函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-%E9%9A%90%E5%BC%8F%E5%8F%82%E6%95%B0%E3%80%81%E9%9A%90%E5%BC%8F%E5%8F%98%E9%87%8F"><span class="toc-text">11.3 隐式参数、隐式变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E9%9A%90%E5%BC%8F%E7%B1%BB"><span class="toc-text">11.4 隐式类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-5-%E9%9A%90%E5%BC%8F%E6%9C%BA%E5%88%B6"><span class="toc-text">11.5 隐式机制</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%B3%9B%E5%9E%8B"><span class="toc-text">12. 泛型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E6%B3%9B%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">12.1 泛型转换</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#12-1-1-%E6%B3%9B%E5%9E%8B%E4%B8%8D%E5%8F%AF%E5%8F%98"><span class="toc-text">12.1.1 泛型不可变</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-1-2-%E6%B3%9B%E5%9E%8B%E5%8D%8F%E5%8F%98"><span class="toc-text">12.1.2 泛型协变</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-1-3-%E6%B3%9B%E5%9E%8B%E9%80%86%E5%8F%98"><span class="toc-text">12.1.3 泛型逆变</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-2-%E6%B3%9B%E5%9E%8B%E8%BE%B9%E7%95%8C"><span class="toc-text">12.2 泛型边界</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#12-2-1-%E6%B3%9B%E5%9E%8B%E4%B8%8A%E9%99%90"><span class="toc-text">12.2.1 泛型上限</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-2-2-%E6%B3%9B%E5%9E%8B%E4%B8%8B%E9%99%90"><span class="toc-text">12.2.2 泛型下限</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-3-%E4%B8%8A%E4%B8%8B%E6%96%87%E9%99%90%E5%AE%9A"><span class="toc-text">12.3 上下文限定</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">13 正则表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#13-1-%E7%AE%80%E4%BB%8B"><span class="toc-text">13.1 简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-2-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text">13.2 基本语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-3-%E6%A1%88%E4%BE%8B%E5%AE%9E%E6%93%8D"><span class="toc-text">13.3  案例实操</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/09/10/Java/Java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86/" title="Java基本知识点介绍"><img src="/../image/bg.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java基本知识点介绍"/></a><div class="content"><a class="title" href="/2022/09/10/Java/Java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86/" title="Java基本知识点介绍">Java基本知识点介绍</a><time datetime="2022-09-10T12:44:35.832Z" title="发表于 2022-09-10 20:44:35">2022-09-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/10/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86/" title="计算机网络知识点介绍"><img src="/../image/bg.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="计算机网络知识点介绍"/></a><div class="content"><a class="title" href="/2022/09/10/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86/" title="计算机网络知识点介绍">计算机网络知识点介绍</a><time datetime="2022-09-10T12:26:42.061Z" title="发表于 2022-09-10 20:26:42">2022-09-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/10/Spark/Spark%E6%BA%90%E7%A0%81%E5%86%85%E6%A0%B8/" title="Spark内核"><img src="/../image/bg.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spark内核"/></a><div class="content"><a class="title" href="/2022/09/10/Spark/Spark%E6%BA%90%E7%A0%81%E5%86%85%E6%A0%B8/" title="Spark内核">Spark内核</a><time datetime="2022-09-10T02:54:42.307Z" title="发表于 2022-09-10 10:54:42">2022-09-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/08/Spark/Spark%E5%B0%8F%E6%A1%88%E4%BE%8B/" title="Spark一个小案例"><img src="/../image/bg.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spark一个小案例"/></a><div class="content"><a class="title" href="/2022/09/08/Spark/Spark%E5%B0%8F%E6%A1%88%E4%BE%8B/" title="Spark一个小案例">Spark一个小案例</a><time datetime="2022-09-08T15:24:18.328Z" title="发表于 2022-09-08 23:24:18">2022-09-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/06/Spark/Spark%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B/" title="Spark核心编程"><img src="/../image/bg.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spark核心编程"/></a><div class="content"><a class="title" href="/2022/09/06/Spark/Spark%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B/" title="Spark核心编程">Spark核心编程</a><time datetime="2022-09-06T11:27:39.924Z" title="发表于 2022-09-06 19:27:39">2022-09-06</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/../image/bg.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2022 <i style="color:#FF6A6A;animation: announ_animation 0.8s linear infinite;" class="fa fa-heartbeat"></i> Xiang Liu</div><div class="footer_custom_text">兽人永不为奴!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script src="https://gcore.jsdelivr.net/gh/xiabo2/CDN@latest/fishes.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>